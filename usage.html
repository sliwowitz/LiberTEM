
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>GUI usage &#8212; LiberTEM 0.6.0.dev0 documentation</title>
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="_static/alabaster.css" type="text/css" />
    <script id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/language_data.js"></script>
    <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/x-mathjax-config">MathJax.Hub.Config({"tex2jax": {"inlineMath": [["$", "$"], ["\\(", "\\)"]], "processEscapes": true, "ignoreClass": "document", "processClass": "math|output_area"}})</script>
    <link rel="shortcut icon" href="_static/favicon.ico"/>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Concepts" href="concepts.html" />
    <link rel="prev" title="Installation" href="install.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <div class="section" id="gui-usage">
<span id="usage-documentation"></span><h1>GUI usage<a class="headerlink" href="#gui-usage" title="Permalink to this headline">¶</a></h1>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This documentation currently assumes that you are using LiberTEM on a single
computer. If you want to run on a cluster, please let us know by
either <a class="reference external" href="https://github.com/liberTEM/LiberTEM/issues">filing an issue</a>
or by asking on <a class="reference external" href="https://gitter.im/LiberTEM/Lobby">our Gitter channel</a>.</p>
</div>
<div class="section" id="starting-the-libertem-server">
<h2>Starting the LiberTEM server<a class="headerlink" href="#starting-the-libertem-server" title="Permalink to this headline">¶</a></h2>
<p>LiberTEM is based on a client-server architecture. To use the LiberTEM GUI, you need to
have the server running on the machine where your data is available. For using LiberTEM from
Python scripts, this is not necessary, see <a class="reference internal" href="api.html#api-documentation"><span class="std std-ref">Python API</span></a>.</p>
<p>After <a class="reference internal" href="install.html"><span class="doc">installing LiberTEM</span></a>, activate the virtualenv or conda environment.</p>
<p>You can then start the LiberTEM server by running:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span><span class="o">(</span>libertem<span class="o">)</span> $ libertem-server
</pre></div>
</div>
<p>By default, this starts the server on <a class="reference external" href="http://localhost:9000">http://localhost:9000</a>, which you can verify by the
log output:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="mi">2018</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">08</span> <span class="mi">13</span><span class="p">:</span><span class="mi">57</span><span class="p">:</span><span class="mi">58</span><span class="p">,</span><span class="mi">266</span><span class="p">]</span> <span class="n">INFO</span> <span class="p">[</span><span class="n">libertem</span><span class="o">.</span><span class="n">web</span><span class="o">.</span><span class="n">server</span><span class="o">.</span><span class="n">main</span><span class="p">:</span><span class="mi">886</span><span class="p">]</span> <span class="n">listening</span> <span class="n">on</span> <span class="n">localhost</span><span class="p">:</span><span class="mi">9000</span>
</pre></div>
</div>
<p>It will then open your default web browser to this URL.</p>
<p>There are a few command line options available:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Usage</span><span class="p">:</span> <span class="n">libertem</span><span class="o">-</span><span class="n">server</span> <span class="p">[</span><span class="n">OPTIONS</span><span class="p">]</span>

<span class="n">Options</span><span class="p">:</span>
  <span class="o">-</span><span class="n">p</span><span class="p">,</span> <span class="o">--</span><span class="n">port</span> <span class="n">INTEGER</span>  <span class="n">port</span> <span class="n">on</span> <span class="n">which</span> <span class="n">the</span> <span class="n">server</span> <span class="n">should</span> <span class="n">listen</span> <span class="n">on</span>
  <span class="o">-</span><span class="n">d</span><span class="p">,</span> <span class="o">--</span><span class="n">local</span><span class="o">-</span><span class="n">directory</span> <span class="n">TEXT</span>    <span class="n">local</span> <span class="n">directory</span> <span class="n">to</span> <span class="n">manage</span> <span class="n">dask</span><span class="o">-</span><span class="n">worker</span><span class="o">-</span><span class="n">space</span> <span class="n">files</span>
  <span class="o">-</span><span class="n">b</span><span class="p">,</span> <span class="o">--</span><span class="n">browser</span> <span class="o">/</span> <span class="o">-</span><span class="n">n</span><span class="p">,</span> <span class="o">--</span><span class="n">no</span><span class="o">-</span><span class="n">browser</span>  <span class="n">enable</span><span class="o">/</span><span class="n">disable</span> <span class="n">opening</span> <span class="n">the</span> <span class="n">browser</span>
  <span class="o">-</span><span class="n">l</span><span class="p">,</span> <span class="o">--</span><span class="n">log</span><span class="o">-</span><span class="n">level</span> <span class="n">TEXT</span>            <span class="nb">set</span> <span class="n">logging</span> <span class="n">level</span><span class="o">.</span> <span class="n">Default</span> <span class="ow">is</span> <span class="s1">&#39;info&#39;</span><span class="o">.</span>
                                  <span class="n">Allowed</span> <span class="n">values</span> <span class="n">are</span> <span class="s1">&#39;critical&#39;</span><span class="p">,</span> <span class="s1">&#39;error&#39;</span><span class="p">,</span>
                                  <span class="s1">&#39;warning&#39;</span><span class="p">,</span> <span class="s1">&#39;info&#39;</span><span class="p">,</span> <span class="s1">&#39;debug&#39;</span><span class="o">.</span>
  <span class="o">--</span><span class="n">help</span>          <span class="n">Show</span> <span class="n">this</span> <span class="n">message</span> <span class="ow">and</span> <span class="n">exit</span><span class="o">.</span>
</pre></div>
</div>
<div class="versionadded">
<p><span class="versionmodified added">New in version 0.4.0: </span><code class="code docutils literal notranslate"><span class="pre">--browser</span></code> / <code class="code docutils literal notranslate"><span class="pre">--no-browser</span></code> option is added, open browser by default.</p>
</div>
<p>To access LiberTEM remotely, you can use <a class="reference internal" href="tips.html#ssh-forwarding"><span class="std std-ref">use SSH forwarding</span></a>.</p>
</div>
<div class="section" id="connecting">
<h2>Connecting<a class="headerlink" href="#connecting" title="Permalink to this headline">¶</a></h2>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The GUI is tested to work on Firefox and Chromium-based browsers for now, if you
cannot use a compatible browser for some reason, please <a class="reference external" href="https://github.com/liberTEM/LiberTEM/issues">file an issue</a>!</p>
</div>
<p>After starting the server, you can open the GUI in your browser. If it didn’t open
automatically, you can access it by default at <a class="reference external" href="http://localhost:9000">http://localhost:9000</a> . At the beginning,
the GUI shows a prompt to create a local cluster or connect to a running one.
The number of workers is preset with a number that will likely give optimal
performance on the given machine. You can also select which CUDA devices to use, if you have
any (needs to have a working cupy installation).</p>
<div class="figure align-default">
<img alt="_images/create.png" src="_images/create.png" />
</div>
</div>
<div class="section" id="starting-a-custom-cluster">
<h2>Starting a custom cluster<a class="headerlink" href="#starting-a-custom-cluster" title="Permalink to this headline">¶</a></h2>
<p>LiberTEM can connect to a running dask cluster. To start a cluster, first run a scheduler:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span><span class="o">(</span>libertem<span class="o">)</span> $ dask-scheduler --host localhost
</pre></div>
</div>
<p>GPU support in LiberTEM requires specific resource tags and environment settings
on the dask workers. The easiest way to start workers with the appropriate
settings is</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span><span class="o">(</span>libertem<span class="o">)</span> $ libertem-worker tcp://localhost:8786
</pre></div>
</div>
<p>There are a few command line options available:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Usage</span><span class="p">:</span> <span class="n">libertem</span><span class="o">-</span><span class="n">worker</span> <span class="p">[</span><span class="n">OPTIONS</span><span class="p">]</span> <span class="p">[</span><span class="n">SCHEDULER</span><span class="p">]</span>

<span class="n">Options</span><span class="p">:</span>
<span class="o">-</span><span class="n">k</span><span class="p">,</span> <span class="o">--</span><span class="n">kind</span> <span class="n">TEXT</span>             <span class="n">Worker</span> <span class="n">kind</span><span class="o">.</span> <span class="n">Currently</span> <span class="n">only</span> <span class="s2">&quot;dask&quot;</span> <span class="ow">is</span>
                            <span class="n">implemented</span><span class="o">.</span>
<span class="o">-</span><span class="n">d</span><span class="p">,</span> <span class="o">--</span><span class="n">local</span><span class="o">-</span><span class="n">directory</span> <span class="n">TEXT</span>  <span class="n">local</span> <span class="n">directory</span> <span class="n">to</span> <span class="n">manage</span> <span class="n">temporary</span> <span class="n">files</span>
<span class="o">-</span><span class="n">c</span><span class="p">,</span> <span class="o">--</span><span class="n">n</span><span class="o">-</span><span class="n">cpus</span> <span class="n">INTEGER</span>        <span class="n">Number</span> <span class="n">of</span> <span class="n">CPUs</span> <span class="n">to</span> <span class="n">use</span><span class="p">,</span> <span class="n">defaults</span> <span class="n">to</span> <span class="n">number</span> <span class="n">of</span> <span class="n">CPU</span>
                            <span class="n">cores</span> <span class="n">without</span> <span class="n">hyperthreading</span><span class="o">.</span>
<span class="o">-</span><span class="n">u</span><span class="p">,</span> <span class="o">--</span><span class="n">cudas</span> <span class="n">TEXT</span>            <span class="n">List</span> <span class="n">of</span> <span class="n">CUDA</span> <span class="n">device</span> <span class="n">IDs</span> <span class="n">to</span> <span class="n">use</span><span class="p">,</span> <span class="n">defaults</span> <span class="n">to</span> <span class="nb">all</span>
                            <span class="n">detected</span> <span class="n">CUDA</span> <span class="n">devices</span><span class="o">.</span> <span class="n">Use</span> <span class="s2">&quot;&quot;</span> <span class="n">to</span> <span class="n">deactivate</span>
                            <span class="n">CUDA</span><span class="o">.</span>
<span class="o">-</span><span class="n">n</span><span class="p">,</span> <span class="o">--</span><span class="n">name</span> <span class="n">TEXT</span>             <span class="n">Name</span> <span class="n">of</span> <span class="n">the</span> <span class="n">cluster</span> <span class="n">node</span><span class="p">,</span> <span class="n">defaults</span> <span class="n">to</span> <span class="n">host</span> <span class="n">name</span>
<span class="o">-</span><span class="n">l</span><span class="p">,</span> <span class="o">--</span><span class="n">log</span><span class="o">-</span><span class="n">level</span> <span class="n">TEXT</span>        <span class="nb">set</span> <span class="n">logging</span> <span class="n">level</span><span class="o">.</span> <span class="n">Default</span> <span class="ow">is</span> <span class="s1">&#39;info&#39;</span><span class="o">.</span> <span class="n">Allowed</span>
                            <span class="n">values</span> <span class="n">are</span> <span class="s1">&#39;critical&#39;</span><span class="p">,</span> <span class="s1">&#39;error&#39;</span><span class="p">,</span> <span class="s1">&#39;warning&#39;</span><span class="p">,</span>
                            <span class="s1">&#39;info&#39;</span><span class="p">,</span> <span class="s1">&#39;debug&#39;</span><span class="o">.</span>
<span class="o">--</span><span class="n">help</span>                      <span class="n">Show</span> <span class="n">this</span> <span class="n">message</span> <span class="ow">and</span> <span class="n">exit</span><span class="o">.</span>
</pre></div>
</div>
<div class="versionadded">
<p><span class="versionmodified added">New in version 0.6.0.</span></p>
</div>
<p>For a cluster setup, you can run the scheduler on the appropriate network interface and
run workers on all cluster nodes to connect to the scheduler.</p>
</div>
<div class="section" id="opening-data">
<h2>Opening data<a class="headerlink" href="#opening-data" title="Permalink to this headline">¶</a></h2>
<p>After connection to a cluster, LiberTEM shows a button to start browsing for
available files. On a local cluster that’s simply the local filesystem.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>See <a class="reference internal" href="sample_datasets.html#sample-data"><span class="std std-ref">Sample Datasets</span></a> for publicly available datasets.</p>
</div>
<div class="figure align-default">
<img alt="_images/browse.png" src="_images/browse.png" />
</div>
<p>This opens the file browser dialogue. On top it shows the current directory,
below it lists all files and subdirectories in that directory. You select an
entry by clicking once on it. You can move up one directory with the “..” entry
on top of the list. The file browser is still very basic. Possible improvements
are discussed in <a class="reference external" href="https://github.com/LiberTEM/LiberTEM/issues/83">Issue #83</a>.
Contributions are highly appreciated! This example opens an HDF5 file <a class="bibtex reference internal" href="index.html#zeltmann2019" id="id1">[ZMB+19]</a>.</p>
<div class="figure align-default">
<img alt="_images/open.png" src="_images/open.png" />
</div>
<p>You can also bookmark locations you frequently need to access, using the
star icon. The bookmarks are then found under “Go to…”.</p>
<div class="figure align-default">
<img alt="_images/star.png" src="_images/star.png" />
</div>
<p>After selecting a file, you set the type in the drop-down menu at the top of the
dialogue above the file name. After that you set the appropriate parameters that
depend on the file type. Clicking on “Load Dataset” will open the file with the
selected parameters. The interface and internal logic to find good presets based
on file type and available metadata, validate the inputs and display helpful
error messages is still work in progress. Contributions are highly appreciated!</p>
<p>See <a class="reference internal" href="formats.html#loading-using-the-gui"><span class="std std-ref">Loading using the GUI</span></a> for more detailed instructions and
format-specific information.</p>
<div class="figure align-default">
<img alt="_images/type.png" src="_images/type.png" />
</div>
</div>
<div class="section" id="running-analyses">
<h2>Running analyses<a class="headerlink" href="#running-analyses" title="Permalink to this headline">¶</a></h2>
<p>Once a dataset is loaded, you can add analyses to it. As an example we choose a
“Ring” analysis.</p>
<div class="figure align-default">
<img alt="_images/add_analysis.png" src="_images/add_analysis.png" />
</div>
<p>The GUI shows two windows: On the left it shows the current mask. Directly after
adding the analysis, LiberTEM starts calculating an average of all the detector
frames. As soon as this is finished, the average is overlaid with the mask to
help the user with positioning the virtual detector. The window on the right
will later show the result of applying the mask to the data. In the beginning it
is empty. The first processing might take a while depending on file size and IO
performance. Fast SSDs and enough RAM to keep the working files in the file
system cache are highly recommended for a good user experience.</p>
<p>You can adjust the virtual detector by dragging the handles in the GUI. Below it
shows the parameters in numerical form. This is useful to extract positions, for
example for scripting.</p>
<div class="figure align-default">
<img alt="_images/adjust.png" src="_images/adjust.png" />
</div>
<p>After clicking “Apply”, LiberTEM performs the calculation and shows the result
in scan coordinates on the right.</p>
<div class="figure align-default">
<img alt="_images/apply.png" src="_images/apply.png" />
</div>
<p>Instead of average, you can select “Standard Deviation”. This calculates
standard deviation of all detector frames.</p>
<div class="figure align-default">
<img alt="_images/std_dev.png" src="_images/std_dev.png" />
</div>
<p>If you are interested in individual frames rather than the average, you can
switch to “Pick” mode in the “Mode” drop-down menu directly below the detector
window.</p>
<div class="figure align-default">
<img alt="_images/pick.png" src="_images/pick.png" />
</div>
<p>In “Pick” mode, a selector appears in the result frame on the right. You can
drag it around with the mouse to see the frames live in the left window. The
picked coordinates are displayed along with the virtual detector parameters
below the frame window on the left.</p>
<div class="figure align-default">
<img alt="_images/pick_frame.png" src="_images/pick_frame.png" />
</div>
<p>If you are interested in a limited region, the ROI dropdown provides the option
to select a rectangular region. For example if you select “Rect”, the
average/standard deviation is calculated over all images that lie inside selected
rectangle. You can adjust the rectangle by dragging the handles in the GUI.</p>
<div class="figure align-default">
<img alt="_images/rect.png" src="_images/rect.png" />
</div>
<p>Some analyses, such as the Center of Mass (COM) analysis, can render the result
in different ways. You can select the channel in the “Image” drop-down menu
below the right window.</p>
<div class="figure align-default">
<img alt="_images/image.png" src="_images/image.png" />
</div>
</div>
<div class="section" id="downloading-results">
<span id="download-results"></span><h2>Downloading results<a class="headerlink" href="#downloading-results" title="Permalink to this headline">¶</a></h2>
<p>After an analysis has finished running, you can download the results. Clicking the download button
below the analysis will open a dialog:</p>
<div class="figure align-default">
<img alt="_images/download-btn.png" src="_images/download-btn.png" />
</div>
<p>In the download dialog, you can choose between different file formats, and separately
download the available results.</p>
<div class="figure align-default">
<img alt="_images/download-modal.png" src="_images/download-modal.png" />
</div>
<p>You can also download a Jupyter notebook corresponding to the analysis and
continue working with the same parameters using scripting.</p>
<div class="figure align-default">
<img alt="_images/download-jupyter.png" src="_images/download-jupyter.png" />
</div>
<p>Or copy individual cells of Jupyter notebook directly from GUI, also option
to copy the complete source code.</p>
<div class="figure align-default">
<img alt="_images/copy-jupyter.png" src="_images/copy-jupyter.png" />
</div>
<div class="section" id="keyboard-controls">
<h3>Keyboard controls<a class="headerlink" href="#keyboard-controls" title="Permalink to this headline">¶</a></h3>
<p>You can use arrow keys to change the coordinate parameters of any analysis. To
do this, click on the handle you want to modify, and then use the arrow keys to
move the handle. Hold shift to move in larger steps.</p>
</div>
<div class="section" id="application-specific-documentation">
<h3>Application-specific documentation<a class="headerlink" href="#application-specific-documentation" title="Permalink to this headline">¶</a></h3>
<p>For more applications, like strain mapping and crystallinity analysis, please
see the <a class="reference internal" href="applications.html"><span class="doc">Applications</span></a> section.</p>
</div>
</div>
</div>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<p class="logo">
  <a href="index.html">
    <img class="logo" src="_static/logo.png" alt="Logo"/>
    
  </a>
</p>








<h3>Navigation</h3>
<p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="install.html">Installation</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">GUI usage</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#starting-the-libertem-server">Starting the LiberTEM server</a></li>
<li class="toctree-l2"><a class="reference internal" href="#connecting">Connecting</a></li>
<li class="toctree-l2"><a class="reference internal" href="#starting-a-custom-cluster">Starting a custom cluster</a></li>
<li class="toctree-l2"><a class="reference internal" href="#opening-data">Opening data</a></li>
<li class="toctree-l2"><a class="reference internal" href="#running-analyses">Running analyses</a></li>
<li class="toctree-l2"><a class="reference internal" href="#downloading-results">Downloading results</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="concepts.html">Concepts</a></li>
<li class="toctree-l1"><a class="reference internal" href="api.html">Python API</a></li>
<li class="toctree-l1"><a class="reference internal" href="formats.html">Loading data</a></li>
<li class="toctree-l1"><a class="reference internal" href="udf.html">User-defined functions</a></li>
<li class="toctree-l1"><a class="reference internal" href="packages.html">Package overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="sample_datasets.html">Sample Datasets</a></li>
<li class="toctree-l1"><a class="reference internal" href="applications.html">Applications</a></li>
<li class="toctree-l1"><a class="reference internal" href="architecture.html">Architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="performance.html">Performance</a></li>
<li class="toctree-l1"><a class="reference internal" href="debugging.html">Debugging</a></li>
<li class="toctree-l1"><a class="reference internal" href="reference/index.html">Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="changelog.html">Changelog</a></li>
<li class="toctree-l1"><a class="reference internal" href="tips.html">Tips and tricks</a></li>
<li class="toctree-l1"><a class="reference internal" href="why_python.html">Why Python?</a></li>
<li class="toctree-l1"><a class="reference internal" href="gsoc.html">GSoC 2020 ideas</a></li>
<li class="toctree-l1"><a class="reference internal" href="contributing.html">Contributing</a></li>
<li class="toctree-l1"><a class="reference internal" href="authorship.html">Authorship policy</a></li>
<li class="toctree-l1"><a class="reference internal" href="citing.html">Citing</a></li>
<li class="toctree-l1"><a class="reference internal" href="acknowledgments.html">Acknowledgments</a></li>
<li class="toctree-l1"><a class="reference internal" href="dev/how-io-works.html">How does I/O work in LiberTEM?</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
      <li>Previous: <a href="install.html" title="previous chapter">Installation</a></li>
      <li>Next: <a href="concepts.html" title="next chapter">Concepts</a></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2018, LiberTEM Authors.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 3.3.1</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="_sources/usage.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>