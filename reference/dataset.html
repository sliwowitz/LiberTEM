
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Data Set API &#8212; LiberTEM 0.6.0.dev0 documentation</title>
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/alabaster.css" type="text/css" />
    <script id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/language_data.js"></script>
    <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/x-mathjax-config">MathJax.Hub.Config({"tex2jax": {"inlineMath": [["$", "$"], ["\\(", "\\)"]], "processEscapes": true, "ignoreClass": "document", "processClass": "math|output_area"}})</script>
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Application-specific API" href="application.html" />
    <link rel="prev" title="UDF API reference" href="udf.html" />
   
  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <div class="section" id="data-set-api">
<span id="dataset-api"></span><h1>Data Set API<a class="headerlink" href="#data-set-api" title="Permalink to this headline">¶</a></h1>
<p>This API allows to load and handle data on a distributed system efficiently. Note that you should
not directly use most dataset methods, but rather use the more high-level tools available, for
example user-defined functions.</p>
<p>See <a class="reference internal" href="../formats.html#loading-data"><span class="std std-ref">our documentation on loading data</span></a> for a high-level introduction.</p>
<div class="section" id="formats">
<span id="id1"></span><h2>Formats<a class="headerlink" href="#formats" title="Permalink to this headline">¶</a></h2>
<div class="section" id="merlin-medipix-mib">
<span id="mib"></span><h3>Merlin Medipix (MIB)<a class="headerlink" href="#merlin-medipix-mib" title="Permalink to this headline">¶</a></h3>
<dl class="py class">
<dt id="libertem.io.dataset.mib.MIBDataSet">
<em class="property">class </em><code class="sig-prename descclassname">libertem.io.dataset.mib.</code><code class="sig-name descname">MIBDataSet</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">path</span></em>, <em class="sig-param"><span class="n">tileshape</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">scan_size</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">disable_glob</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/libertem/io/dataset/mib.html#MIBDataSet"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#libertem.io.dataset.mib.MIBDataSet" title="Permalink to this definition">¶</a></dt>
<dd><p>MIB data sets consist of one or more <cite>.mib</cite> files, and optionally
a <cite>.hdr</cite> file. The HDR file is used to automatically set the
<cite>scan_size</cite> parameter from the fields “Frames per Trigger” and “Frames
in Acquisition.” When loading a MIB data set, you can either specify
the path to the HDR file, or choose one of the MIB files. The MIB files
are assumed to follow a naming pattern of some non-numerical prefix,
and a sequential numerical suffix.</p>
<p>Note that, as of the current version, no gain correction or hot/cold pixel
removal is done yet: processing is done on the RAW data, though you can do
pre-processing in your own UDF.</p>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># both examples look for files matching /path/to/default*.mib:</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds1</span> <span class="o">=</span> <span class="n">ctx</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="s2">&quot;mib&quot;</span><span class="p">,</span> <span class="n">path</span><span class="o">=</span><span class="s2">&quot;/path/to/default.hdr&quot;</span><span class="p">)</span>  
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds2</span> <span class="o">=</span> <span class="n">ctx</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="s2">&quot;mib&quot;</span><span class="p">,</span> <span class="n">path</span><span class="o">=</span><span class="s2">&quot;/path/to/default64.mib&quot;</span><span class="p">)</span>  
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>path</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – Path to either the .hdr file or one of the .mib files</p></li>
<li><p><strong>scan_size</strong> (<em>tuple of int</em><em>, </em><em>optional</em>) – A tuple (y, x) that specifies the size of the scanned region. It is
automatically read from the .hdr file if you specify one as <cite>path</cite>.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="raw-binary-files">
<span id="raw-binary"></span><h3>Raw binary files<a class="headerlink" href="#raw-binary-files" title="Permalink to this headline">¶</a></h3>
<dl class="py class">
<dt id="libertem.io.dataset.raw.RawFileDataSet">
<em class="property">class </em><code class="sig-prename descclassname">libertem.io.dataset.raw.</code><code class="sig-name descname">RawFileDataSet</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">path</span></em>, <em class="sig-param"><span class="n">scan_size</span></em>, <em class="sig-param"><span class="n">dtype</span></em>, <em class="sig-param"><span class="n">detector_size</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">enable_direct</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">detector_size_raw</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">crop_detector_to</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">tileshape</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/libertem/io/dataset/raw.html#RawFileDataSet"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#libertem.io.dataset.raw.RawFileDataSet" title="Permalink to this definition">¶</a></dt>
<dd><p>Read raw data from a single file of raw binary data. This reader assumes the following
format:</p>
<blockquote>
<div><ul class="simple">
<li><p>only raw data (no file header)</p></li>
<li><p>frames are stored in C-order without additional frame headers</p></li>
<li><p>dtype supported by numpy</p></li>
</ul>
</div></blockquote>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span> <span class="o">=</span> <span class="n">ctx</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="s2">&quot;raw&quot;</span><span class="p">,</span> <span class="n">path</span><span class="o">=</span><span class="n">path_to_raw</span><span class="p">,</span> <span class="n">scan_size</span><span class="o">=</span><span class="p">(</span><span class="mi">16</span><span class="p">,</span> <span class="mi">16</span><span class="p">),</span>
<span class="gp">... </span>              <span class="n">dtype</span><span class="o">=</span><span class="s2">&quot;float32&quot;</span><span class="p">,</span> <span class="n">detector_size</span><span class="o">=</span><span class="p">(</span><span class="mi">128</span><span class="p">,</span> <span class="mi">128</span><span class="p">))</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>path</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – Path to the file</p></li>
<li><p><strong>scan_size</strong> (<em>tuple of int</em><em>, </em><em>optional</em>) – A n-tuple that specifies the size of the scanned region ((y, x), but
can also be of length 1 for example for a line scan, or length 3 for
a data cube, for example)</p></li>
<li><p><strong>dtype</strong> (<em>numpy dtype</em>) – The dtype of the data as it is on disk. Can contain endian indicator, for
example &gt;u2 for big-endian 16bit data.</p></li>
<li><p><strong>detector_size</strong> (<em>tuple of int</em>) – Common case: (height, width); but can be any dimensionality</p></li>
<li><p><strong>enable_direct</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) – Enable direct I/O. This bypasses the filesystem cache and is useful for
systems with very fast I/O and for data sets that are much larger than the
main memory.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="digital-micrograph-dm3-dm4-files">
<span id="dm-format"></span><h3>Digital Micrograph (DM3, DM4) files<a class="headerlink" href="#digital-micrograph-dm3-dm4-files" title="Permalink to this headline">¶</a></h3>
<dl class="py class">
<dt id="libertem.io.dataset.dm.DMDataSet">
<em class="property">class </em><code class="sig-prename descclassname">libertem.io.dataset.dm.</code><code class="sig-name descname">DMDataSet</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">files</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">scan_size</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">same_offset</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/libertem/io/dataset/dm.html#DMDataSet"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#libertem.io.dataset.dm.DMDataSet" title="Permalink to this definition">¶</a></dt>
<dd><p>Reader for stacks of DM3/DM4 files. Each file should contain a single frame.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This DataSet is not supported in the GUI yet, as the file dialog needs to be
updated to <a class="reference external" href="https://github.com/LiberTEM/LiberTEM/issues/498">properly handle opening series</a>.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Single-file 4D DM files are not yet supported. The use-case would be
to read DM4 files from the conversion of K2 data, but those data sets
are actually transposed (nav/sig are swapped).</p>
<p>That means the data would have to be transposed back into the usual shape,
which is slow, or algorithms would have to be adapted to work directly on
transposed data. As an example, applying a mask in the conventional layout
corresponds to calculating a weighted sum frame along the navigation
dimension in the transposed layout.</p>
<p>Since the transposed layout corresponds to a TEM tilt series, support for
transposed 4D STEM data could have more general applications beyond
supporting 4D DM4 files. Please contact us if you have a use-case for
single-file 4D DM files or other applications that process stacks of TEM
files, and we may add support!</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>You can use the PyPi package <a class="reference external" href="https://pypi.org/project/natsort/">natsort</a>
to sort the filenames by their numerical components, this is especially useful
for filenames without leading zeros.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>files</strong> (<em>List</em><em>[</em><a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a><em>]</em>) – List of paths to the files that should be loaded. The order is important,
as it determines the order in the navigation axis.</p></li>
<li><p><strong>scan_size</strong> (<em>Tuple</em><em>[</em><a class="reference external" href="https://docs.python.org/3.7/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a><em>] or </em><a class="reference external" href="https://docs.python.org/3.7/library/constants.html#None" title="(in Python v3.7)"><em>None</em></a>) – By default, the files are loaded as a 3D stack. You can change this
by specifying the scan size, which reshapes the navigation dimensions.
Raises a <cite>DataSetException</cite> if the shape is incompatible with the data
that is loaded.</p></li>
<li><p><strong>same_offset</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) – When reading a stack of dm3/dm4 files, it can be expensive to read in
all the metadata from all files, which we currently only use for
getting the offsets and sizes of the main data in each file. If you
absolutely know that the offsets and sizes are the same for all files,
you can set this parameter and we will skip reading all metadata but
the one from the first file.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="empad">
<span id="id2"></span><h3>EMPAD<a class="headerlink" href="#empad" title="Permalink to this headline">¶</a></h3>
<dl class="py class">
<dt id="libertem.io.dataset.empad.EMPADDataSet">
<em class="property">class </em><code class="sig-prename descclassname">libertem.io.dataset.empad.</code><code class="sig-name descname">EMPADDataSet</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">path</span></em>, <em class="sig-param"><span class="n">scan_size</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/libertem/io/dataset/empad.html#EMPADDataSet"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#libertem.io.dataset.empad.EMPADDataSet" title="Permalink to this definition">¶</a></dt>
<dd><p>Read data from EMPAD detector. EMPAD data sets consist of two files,
one .raw and one .xml file. Note that the .xml file contains the file name
of the .raw file, so if the raw file was renamed at some point, opening using
the .xml file will fail.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>path</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – Path to either the .xml or the .raw file. If the .xml file given,
the <cite>scan_size</cite> parameter can be left out</p></li>
<li><p><strong>scan_size</strong> (<em>tuple of int</em>) – A tuple (y, x) that specifies the size of the scanned region. It is
automatically read from the .xml file if you specify one as <cite>path</cite>.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="k2is">
<span id="id3"></span><h3>K2IS<a class="headerlink" href="#k2is" title="Permalink to this headline">¶</a></h3>
<dl class="py class">
<dt id="libertem.io.dataset.k2is.K2ISDataSet">
<em class="property">class </em><code class="sig-prename descclassname">libertem.io.dataset.k2is.</code><code class="sig-name descname">K2ISDataSet</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">path</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/libertem/io/dataset/k2is.html#K2ISDataSet"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#libertem.io.dataset.k2is.K2ISDataSet" title="Permalink to this definition">¶</a></dt>
<dd><p>Read raw K2IS data sets. They consist of 8 .bin files and one .gtg file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>path</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – Path to one of the files of the data set (either one of the .bin files or the .gtg file)</p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="frms6">
<span id="id4"></span><h3>FRMS6<a class="headerlink" href="#frms6" title="Permalink to this headline">¶</a></h3>
<dl class="py class">
<dt id="libertem.io.dataset.frms6.FRMS6DataSet">
<em class="property">class </em><code class="sig-prename descclassname">libertem.io.dataset.frms6.</code><code class="sig-name descname">FRMS6DataSet</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">path</span></em>, <em class="sig-param"><span class="n">enable_offset_correction</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">gain_map_path</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">dest_dtype</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/libertem/io/dataset/frms6.html#FRMS6DataSet"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#libertem.io.dataset.frms6.FRMS6DataSet" title="Permalink to this definition">¶</a></dt>
<dd><p>Read PNDetector FRMS6 files. FRMS6 data sets consist of multiple .frms6 files and
a .hdr file. The first .frms6 file (matching *_000.frms6) contains dark frames, which
are subtracted if <cite>enable_offset_correction</cite> is true.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>path</strong> (<em>string</em>) – Path to one of the files of the FRMS6 dataset (either .hdr or .frms6)</p></li>
<li><p><strong>enable_offset_correction</strong> (<em>boolean</em>) – Subtract dark frames when reading data</p></li>
<li><p><strong>gain_map_path</strong> (<em>string</em>) – Path to a gain map to apply (.mat format)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="blo">
<span id="id5"></span><h3>BLO<a class="headerlink" href="#blo" title="Permalink to this headline">¶</a></h3>
<dl class="py class">
<dt id="libertem.io.dataset.blo.BloDataSet">
<em class="property">class </em><code class="sig-prename descclassname">libertem.io.dataset.blo.</code><code class="sig-name descname">BloDataSet</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">path</span></em>, <em class="sig-param"><span class="n">tileshape</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">endianess</span><span class="o">=</span><span class="default_value">'&lt;'</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/libertem/io/dataset/blo.html#BloDataSet"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#libertem.io.dataset.blo.BloDataSet" title="Permalink to this definition">¶</a></dt>
<dd><p>Read Nanomegas .blo files</p>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span> <span class="o">=</span> <span class="n">ctx</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="s2">&quot;blo&quot;</span><span class="p">,</span> <span class="n">path</span><span class="o">=</span><span class="s2">&quot;/path/to/file.blo&quot;</span><span class="p">)</span>  
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>path</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – Path to the file</p></li>
<li><p><strong>endianess</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – either ‘&lt;’ or ‘&gt;’ for little or big endian</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="ser">
<span id="id6"></span><h3>SER<a class="headerlink" href="#ser" title="Permalink to this headline">¶</a></h3>
<dl class="py class">
<dt id="libertem.io.dataset.ser.SERDataSet">
<em class="property">class </em><code class="sig-prename descclassname">libertem.io.dataset.ser.</code><code class="sig-name descname">SERDataSet</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">path</span></em>, <em class="sig-param"><span class="n">emipath</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/libertem/io/dataset/ser.html#SERDataSet"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#libertem.io.dataset.ser.SERDataSet" title="Permalink to this definition">¶</a></dt>
<dd><p>Read TIA SER files.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>path</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – Path to the .ser file</p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="hdf5">
<span id="id7"></span><h3>HDF5<a class="headerlink" href="#hdf5" title="Permalink to this headline">¶</a></h3>
<dl class="py class">
<dt id="libertem.io.dataset.hdf5.H5DataSet">
<em class="property">class </em><code class="sig-prename descclassname">libertem.io.dataset.hdf5.</code><code class="sig-name descname">H5DataSet</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">path</span></em>, <em class="sig-param"><span class="n">ds_path</span></em>, <em class="sig-param"><span class="n">tileshape</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">target_size</span><span class="o">=</span><span class="default_value">536870912</span></em>, <em class="sig-param"><span class="n">min_num_partitions</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">sig_dims</span><span class="o">=</span><span class="default_value">2</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/libertem/io/dataset/hdf5.html#H5DataSet"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#libertem.io.dataset.hdf5.H5DataSet" title="Permalink to this definition">¶</a></dt>
<dd><p>Read data from a HDF5 data set.</p>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span> <span class="o">=</span> <span class="n">ctx</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="s2">&quot;hdf5&quot;</span><span class="p">,</span> <span class="n">path</span><span class="o">=</span><span class="n">path_to_hdf5</span><span class="p">,</span> <span class="n">ds_path</span><span class="o">=</span><span class="s2">&quot;/data&quot;</span><span class="p">)</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>path</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – Path to the file</p></li>
<li><p><strong>ds_path</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – Path to the HDF5 data set inside the file</p></li>
<li><p><strong>sig_dims</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) – Number of dimensions that should be considered part of the signal (for example
2 when dealing with 2D image data)</p></li>
<li><p><strong>target_size</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) – Target partition size, in bytes. Usually doesn’t need to be changed.</p></li>
<li><p><strong>min_num_partitions</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) – Minimum number of partitions, set to number of cores if not specified. Usually
doesn’t need to be specified.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="norpix-seq">
<span id="seq"></span><h3>Norpix SEQ<a class="headerlink" href="#norpix-seq" title="Permalink to this headline">¶</a></h3>
<dl class="py class">
<dt id="libertem.io.dataset.seq.SEQDataSet">
<em class="property">class </em><code class="sig-prename descclassname">libertem.io.dataset.seq.</code><code class="sig-name descname">SEQDataSet</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">path</span><span class="p">:</span> <span class="n"><a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)">str</a></span></em>, <em class="sig-param"><span class="n">scan_size</span><span class="p">:</span> <span class="n">Tuple<span class="p">[</span><a class="reference external" href="https://docs.python.org/3.7/library/functions.html#int" title="(in Python v3.7)">int</a><span class="p">]</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/libertem/io/dataset/seq.html#SEQDataSet"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#libertem.io.dataset.seq.SEQDataSet" title="Permalink to this definition">¶</a></dt>
<dd><p>Read data from Norpix SEQ files.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>path</strong> – Path to the .seq file</p></li>
<li><p><strong>scan_size</strong> – A tuple that specifies the size of the scanned region/line/…</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="mrc">
<span id="id8"></span><h3>MRC<a class="headerlink" href="#mrc" title="Permalink to this headline">¶</a></h3>
<dl class="py class">
<dt id="libertem.io.dataset.mrc.MRCDataSet">
<em class="property">class </em><code class="sig-prename descclassname">libertem.io.dataset.mrc.</code><code class="sig-name descname">MRCDataSet</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">path</span></em>, <em class="sig-param"><span class="n">sig_shape</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/libertem/io/dataset/mrc.html#MRCDataSet"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#libertem.io.dataset.mrc.MRCDataSet" title="Permalink to this definition">¶</a></dt>
<dd><p>Read MRC files.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>path</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – Path to the .mrc file</p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="memory-data-set">
<span id="memory"></span><h3>Memory data set<a class="headerlink" href="#memory-data-set" title="Permalink to this headline">¶</a></h3>
<dl class="py class">
<dt id="libertem.io.dataset.memory.MemoryDataSet">
<em class="property">class </em><code class="sig-prename descclassname">libertem.io.dataset.memory.</code><code class="sig-name descname">MemoryDataSet</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">tileshape</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">num_partitions</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">data</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">sig_dims</span><span class="o">=</span><span class="default_value">2</span></em>, <em class="sig-param"><span class="n">check_cast</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">tiledelay</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">datashape</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">base_shape</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">force_need_decode</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/libertem/io/dataset/memory.html#MemoryDataSet"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#libertem.io.dataset.memory.MemoryDataSet" title="Permalink to this definition">¶</a></dt>
<dd><p>This dataset is constructed from a NumPy array in memory for testing
purposes. It is not recommended for production use since it performs poorly with a
distributed executor.</p>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">libertem.io.dataset.memory</span> <span class="kn">import</span> <span class="n">MemoryDataSet</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">((</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">128</span><span class="p">,</span> <span class="mi">128</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span> <span class="o">=</span> <span class="n">MemoryDataSet</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">data</span><span class="p">)</span>
</pre></div>
</div>
<dl class="py method">
<dt id="libertem.io.dataset.memory.MemoryDataSet.__init__">
<code class="sig-name descname">__init__</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">tileshape</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">num_partitions</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">data</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">sig_dims</span><span class="o">=</span><span class="default_value">2</span></em>, <em class="sig-param"><span class="n">check_cast</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">tiledelay</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">datashape</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">base_shape</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">force_need_decode</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/libertem/io/dataset/memory.html#MemoryDataSet.__init__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#libertem.io.dataset.memory.MemoryDataSet.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialize self.  See help(type(self)) for accurate signature.</p>
</dd></dl>

</dd></dl>

</div>
</div>
<div class="section" id="module-libertem.io.dataset.base">
<span id="internal-dataset-api"></span><h2>Internal DataSet API<a class="headerlink" href="#module-libertem.io.dataset.base" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt id="libertem.io.dataset.base.BasePartition">
<em class="property">class </em><code class="sig-prename descclassname">libertem.io.dataset.base.</code><code class="sig-name descname">BasePartition</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">meta</span><span class="p">:</span> <span class="n">libertem.io.dataset.base.meta.DataSetMeta</span></em>, <em class="sig-param"><span class="n">partition_slice</span><span class="p">:</span> <span class="n"><a class="reference internal" href="internals.html#libertem.common.slice.Slice" title="libertem.common.slice.Slice">libertem.common.slice.Slice</a></span></em>, <em class="sig-param"><span class="n">fileset</span><span class="p">:</span> <span class="n">libertem.io.dataset.base.fileset.FileSet</span></em>, <em class="sig-param"><span class="n">start_frame</span><span class="p">:</span> <span class="n"><a class="reference external" href="https://docs.python.org/3.7/library/functions.html#int" title="(in Python v3.7)">int</a></span></em>, <em class="sig-param"><span class="n">num_frames</span><span class="p">:</span> <span class="n"><a class="reference external" href="https://docs.python.org/3.7/library/functions.html#int" title="(in Python v3.7)">int</a></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/libertem/io/dataset/base/partition.html#BasePartition"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#libertem.io.dataset.base.BasePartition" title="Permalink to this definition">¶</a></dt>
<dd><p>Base class with default implementations</p>
<dl class="py method">
<dt id="libertem.io.dataset.base.BasePartition.__init__">
<code class="sig-name descname">__init__</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">meta</span><span class="p">:</span> <span class="n">libertem.io.dataset.base.meta.DataSetMeta</span></em>, <em class="sig-param"><span class="n">partition_slice</span><span class="p">:</span> <span class="n"><a class="reference internal" href="internals.html#libertem.common.slice.Slice" title="libertem.common.slice.Slice">libertem.common.slice.Slice</a></span></em>, <em class="sig-param"><span class="n">fileset</span><span class="p">:</span> <span class="n">libertem.io.dataset.base.fileset.FileSet</span></em>, <em class="sig-param"><span class="n">start_frame</span><span class="p">:</span> <span class="n"><a class="reference external" href="https://docs.python.org/3.7/library/functions.html#int" title="(in Python v3.7)">int</a></span></em>, <em class="sig-param"><span class="n">num_frames</span><span class="p">:</span> <span class="n"><a class="reference external" href="https://docs.python.org/3.7/library/functions.html#int" title="(in Python v3.7)">int</a></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/libertem/io/dataset/base/partition.html#BasePartition.__init__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#libertem.io.dataset.base.BasePartition.__init__" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>meta</strong> – The <cite>DataSet</cite>’s <cite>DataSetMeta</cite> instance</p></li>
<li><p><strong>partition_slice</strong> – The partition slice in non-flattened form</p></li>
<li><p><strong>fileset</strong> – The files that are part of this partition (the FileSet may also contain files
from the dataset which are not part of this partition, but that may harm performance)</p></li>
<li><p><strong>start_frame</strong> – The index of the first frame of this partition (global coords)</p></li>
<li><p><strong>num_frames</strong> – How many frames this partition should contain</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="libertem.io.dataset.base.BasePartition.adjust_tileshape">
<code class="sig-name descname">adjust_tileshape</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">tileshape</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/libertem/io/dataset/base/partition.html#BasePartition.adjust_tileshape"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#libertem.io.dataset.base.BasePartition.adjust_tileshape" title="Permalink to this definition">¶</a></dt>
<dd><p>Final veto of the Partition in the tileshape negotiation process,
make sure that corrections are taken into account!</p>
</dd></dl>

<dl class="py method">
<dt id="libertem.io.dataset.base.BasePartition.get_base_shape">
<code class="sig-name descname">get_base_shape</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/libertem/io/dataset/base/partition.html#BasePartition.get_base_shape"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#libertem.io.dataset.base.BasePartition.get_base_shape" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="libertem.io.dataset.base.BasePartition.get_locations">
<code class="sig-name descname">get_locations</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/libertem/io/dataset/base/partition.html#BasePartition.get_locations"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#libertem.io.dataset.base.BasePartition.get_locations" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="libertem.io.dataset.base.BasePartition.get_macrotile">
<code class="sig-name descname">get_macrotile</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">dest_dtype</span><span class="o">=</span><span class="default_value">'float32'</span></em>, <em class="sig-param"><span class="n">roi</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/libertem/io/dataset/base/partition.html#BasePartition.get_macrotile"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#libertem.io.dataset.base.BasePartition.get_macrotile" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a single tile for the entire partition.</p>
<p>This is useful to support process_partiton() in UDFs and to construct dask arrays
from datasets.</p>
</dd></dl>

<dl class="py method">
<dt id="libertem.io.dataset.base.BasePartition.get_tiles">
<code class="sig-name descname">get_tiles</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">tiling_scheme</span></em>, <em class="sig-param"><span class="n">dest_dtype</span><span class="o">=</span><span class="default_value">'float32'</span></em>, <em class="sig-param"><span class="n">roi</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/libertem/io/dataset/base/partition.html#BasePartition.get_tiles"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#libertem.io.dataset.base.BasePartition.get_tiles" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a generator over all DataTiles contained in this Partition.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The DataSet may reuse the internal buffer of a tile, so you should
directly process the tile and not accumulate a number of tiles and then work
on them.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>tiling_scheme</strong> – According to this scheme the data will be tiled</p></li>
<li><p><strong>dest_dtype</strong> (<em>numpy dtype</em>) – convert data to this dtype when reading</p></li>
<li><p><strong>roi</strong> (<a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.19)"><em>numpy.ndarray</em></a>) – Boolean array that matches the dataset navigation shape to limit the region to work on.
With a ROI, we yield tiles from a “compressed” navigation axis, relative to
the beginning of the dataset. Compressed means, only frames that have a 1
in the ROI are considered, and the resulting tile slices are from a coordinate
system that has the shape <cite>(np.count_nonzero(roi),)</cite>.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="libertem.io.dataset.base.BasePartition.need_decode">
<code class="sig-name descname">need_decode</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">read_dtype</span></em>, <em class="sig-param"><span class="n">roi</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/libertem/io/dataset/base/partition.html#BasePartition.need_decode"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#libertem.io.dataset.base.BasePartition.need_decode" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="libertem.io.dataset.base.BasePartition.set_corrections">
<code class="sig-name descname">set_corrections</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">corrections</span><span class="p">:</span> <span class="n"><a class="reference internal" href="corrections.html#libertem.corrections.corrset.CorrectionSet" title="libertem.corrections.corrset.CorrectionSet">libertem.corrections.corrset.CorrectionSet</a></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/libertem/io/dataset/base/partition.html#BasePartition.set_corrections"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#libertem.io.dataset.base.BasePartition.set_corrections" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt id="libertem.io.dataset.base.DataSet">
<em class="property">class </em><code class="sig-prename descclassname">libertem.io.dataset.base.</code><code class="sig-name descname">DataSet</code><a class="reference internal" href="../_modules/libertem/io/dataset/base/dataset.html#DataSet"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#libertem.io.dataset.base.DataSet" title="Permalink to this definition">¶</a></dt>
<dd><dl class="py method">
<dt id="libertem.io.dataset.base.DataSet.__init__">
<code class="sig-name descname">__init__</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/libertem/io/dataset/base/dataset.html#DataSet.__init__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#libertem.io.dataset.base.DataSet.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialize self.  See help(type(self)) for accurate signature.</p>
</dd></dl>

<dl class="py method">
<dt id="libertem.io.dataset.base.DataSet.check_valid">
<code class="sig-name descname">check_valid</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/libertem/io/dataset/base/dataset.html#DataSet.check_valid"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#libertem.io.dataset.base.DataSet.check_valid" title="Permalink to this definition">¶</a></dt>
<dd><p>check validity of the DataSet. this will be executed (after initialize) on a worker node.
should raise DataSetException in case of errors, return True otherwise.</p>
</dd></dl>

<dl class="py method">
<dt id="libertem.io.dataset.base.DataSet.detect_params">
<em class="property">classmethod </em><code class="sig-name descname">detect_params</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">path</span></em>, <em class="sig-param"><span class="n">executor</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/libertem/io/dataset/base/dataset.html#DataSet.detect_params"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#libertem.io.dataset.base.DataSet.detect_params" title="Permalink to this definition">¶</a></dt>
<dd><p>Guess if path can be opened using this DataSet implementation and
detect parameters.</p>
<p>returns dict of detected parameters if path matches this dataset type,
returns False if path is most likely not of a matching type.</p>
</dd></dl>

<dl class="py method">
<dt id="libertem.io.dataset.base.DataSet.diagnostics">
<em class="property">property </em><code class="sig-name descname">diagnostics</code><a class="headerlink" href="#libertem.io.dataset.base.DataSet.diagnostics" title="Permalink to this definition">¶</a></dt>
<dd><p>Diagnostics common for all DataSet implementations</p>
</dd></dl>

<dl class="py method">
<dt id="libertem.io.dataset.base.DataSet.dtype">
<em class="property">property </em><code class="sig-name descname">dtype</code><a class="headerlink" href="#libertem.io.dataset.base.DataSet.dtype" title="Permalink to this definition">¶</a></dt>
<dd><p>the destination data type</p>
</dd></dl>

<dl class="py method">
<dt id="libertem.io.dataset.base.DataSet.get_cache_key">
<code class="sig-name descname">get_cache_key</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/libertem/io/dataset/base/dataset.html#DataSet.get_cache_key"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#libertem.io.dataset.base.DataSet.get_cache_key" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="libertem.io.dataset.base.DataSet.get_correction_data">
<code class="sig-name descname">get_correction_data</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/libertem/io/dataset/base/dataset.html#DataSet.get_correction_data"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#libertem.io.dataset.base.DataSet.get_correction_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Correction parameters that are part of this DataSet.
This should only be called after the DataSet is initialized.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>correction parameters that are part of this DataSet</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference internal" href="corrections.html#libertem.corrections.corrset.CorrectionSet" title="libertem.corrections.corrset.CorrectionSet">CorrectionSet</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="libertem.io.dataset.base.DataSet.get_diagnostics">
<code class="sig-name descname">get_diagnostics</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/libertem/io/dataset/base/dataset.html#DataSet.get_diagnostics"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#libertem.io.dataset.base.DataSet.get_diagnostics" title="Permalink to this definition">¶</a></dt>
<dd><p>Get relevant diagnostics for this dataset, as a list of
dicts with keys name, value, where value may be string or
a list of dicts itself. Subclasses should override this method.</p>
</dd></dl>

<dl class="py method">
<dt id="libertem.io.dataset.base.DataSet.get_msg_converter">
<em class="property">classmethod </em><code class="sig-name descname">get_msg_converter</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; Type<span class="p">[</span>libertem.web.messageconverter.MessageConverter<span class="p">]</span><a class="reference internal" href="../_modules/libertem/io/dataset/base/dataset.html#DataSet.get_msg_converter"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#libertem.io.dataset.base.DataSet.get_msg_converter" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="libertem.io.dataset.base.DataSet.get_partitions">
<code class="sig-name descname">get_partitions</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/libertem/io/dataset/base/dataset.html#DataSet.get_partitions"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#libertem.io.dataset.base.DataSet.get_partitions" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a generator over all Partitions in this DataSet. Should only
be called on the master node.</p>
</dd></dl>

<dl class="py method">
<dt id="libertem.io.dataset.base.DataSet.get_supported_extensions">
<em class="property">classmethod </em><code class="sig-name descname">get_supported_extensions</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; Set<span class="p">[</span><a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)">str</a><span class="p">]</span><a class="reference internal" href="../_modules/libertem/io/dataset/base/dataset.html#DataSet.get_supported_extensions"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#libertem.io.dataset.base.DataSet.get_supported_extensions" title="Permalink to this definition">¶</a></dt>
<dd><p>Return supported extensions as a set of strings.</p>
<p>Plain extensions only, no pattern!</p>
</dd></dl>

<dl class="py method">
<dt id="libertem.io.dataset.base.DataSet.initialize">
<code class="sig-name descname">initialize</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">executor</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/libertem/io/dataset/base/dataset.html#DataSet.initialize"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#libertem.io.dataset.base.DataSet.initialize" title="Permalink to this definition">¶</a></dt>
<dd><p>Perform possibly expensive initialization, like pre-loading metadata.</p>
<p>This is run on the master node, but can execute parts on workers, for example
if they need to access the data stored on worker nodes, using the passed executor
instance.</p>
<p>If you need the executor around for later operations, for example when creating
the partitioning, save a reference here!</p>
<p>Should return the possibly modified <cite>DataSet</cite> instance (if a method running
on a worker is changing <cite>self</cite>, these changes won’t automatically be transferred back
to the master node)</p>
</dd></dl>

<dl class="py method">
<dt id="libertem.io.dataset.base.DataSet.partition_shape">
<code class="sig-name descname">partition_shape</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">dtype</span></em>, <em class="sig-param"><span class="n">target_size</span></em>, <em class="sig-param"><span class="n">min_num_partitions</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/libertem/io/dataset/base/dataset.html#DataSet.partition_shape"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#libertem.io.dataset.base.DataSet.partition_shape" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate partition shape for the given <code class="docutils literal notranslate"><span class="pre">target_size</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dtype</strong> (<a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.dtype.html#numpy.dtype" title="(in NumPy v1.19)"><em>numpy.dtype</em></a><em> or </em><a class="reference external" href="https://docs.python.org/3.7/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) – data type of the dataset</p></li>
<li><p><strong>target_size</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) – target size in bytes - how large should each partition be?</p></li>
<li><p><strong>min_num_partitions</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) – minimum number of partitions desired. Defaults to the number of workers in the cluster.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>the shape calculated from the given parameters</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>Tuple[<a class="reference external" href="https://docs.python.org/3.7/library/functions.html#int" title="(in Python v3.7)">int</a>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="libertem.io.dataset.base.DataSet.raw_dtype">
<em class="property">property </em><code class="sig-name descname">raw_dtype</code><a class="headerlink" href="#libertem.io.dataset.base.DataSet.raw_dtype" title="Permalink to this definition">¶</a></dt>
<dd><p>the underlying data type</p>
</dd></dl>

<dl class="py method">
<dt id="libertem.io.dataset.base.DataSet.set_num_cores">
<code class="sig-name descname">set_num_cores</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cores</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/libertem/io/dataset/base/dataset.html#DataSet.set_num_cores"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#libertem.io.dataset.base.DataSet.set_num_cores" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="libertem.io.dataset.base.DataSet.shape">
<em class="property">property </em><code class="sig-name descname">shape</code><a class="headerlink" href="#libertem.io.dataset.base.DataSet.shape" title="Permalink to this definition">¶</a></dt>
<dd><p>The shape of the DataSet, as it makes sense for the application domain
(for example, 4D for pixelated STEM)</p>
</dd></dl>

</dd></dl>

<dl class="py exception">
<dt id="libertem.io.dataset.base.DataSetException">
<em class="property">exception </em><code class="sig-prename descclassname">libertem.io.dataset.base.</code><code class="sig-name descname">DataSetException</code><a class="reference internal" href="../_modules/libertem/io/dataset/base/exceptions.html#DataSetException"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#libertem.io.dataset.base.DataSetException" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py class">
<dt id="libertem.io.dataset.base.DataSetMeta">
<em class="property">class </em><code class="sig-prename descclassname">libertem.io.dataset.base.</code><code class="sig-name descname">DataSetMeta</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">shape</span><span class="p">:</span> <span class="n"><a class="reference internal" href="internals.html#libertem.common.shape.Shape" title="libertem.common.shape.Shape">libertem.common.shape.Shape</a></span></em>, <em class="sig-param"><span class="n">raw_dtype</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">dtype</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">metadata</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/libertem/io/dataset/base/meta.html#DataSetMeta"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#libertem.io.dataset.base.DataSetMeta" title="Permalink to this definition">¶</a></dt>
<dd><dl class="py method">
<dt id="libertem.io.dataset.base.DataSetMeta.__init__">
<code class="sig-name descname">__init__</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">shape</span><span class="p">:</span> <span class="n"><a class="reference internal" href="internals.html#libertem.common.shape.Shape" title="libertem.common.shape.Shape">libertem.common.shape.Shape</a></span></em>, <em class="sig-param"><span class="n">raw_dtype</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">dtype</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">metadata</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/libertem/io/dataset/base/meta.html#DataSetMeta.__init__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#libertem.io.dataset.base.DataSetMeta.__init__" title="Permalink to this definition">¶</a></dt>
<dd><dl class="simple">
<dt>shape</dt><dd><p>“native” dataset shape, can have any dimensionality</p>
</dd>
<dt>raw_dtype<span class="classifier">np.dtype</span></dt><dd><p>dtype used internally in the data set for reading</p>
</dd>
<dt>dtype<span class="classifier">np.dtype</span></dt><dd><p>Best-fitting output dtype. This can be different from raw_dtype, for example
if there are post-processing steps done as part of reading, which need a different
dtype. Assumed equal to raw_dtype if not given</p>
</dd>
<dt>metadata</dt><dd><p>Any metadata offered by the DataSet, not specified yet</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="libertem.io.dataset.base.DataTile">
<em class="property">class </em><code class="sig-prename descclassname">libertem.io.dataset.base.</code><code class="sig-name descname">DataTile</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">input_array</span></em>, <em class="sig-param"><span class="n">tile_slice</span></em>, <em class="sig-param"><span class="n">scheme_idx</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/libertem/io/dataset/base/tiling.html#DataTile"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#libertem.io.dataset.base.DataTile" title="Permalink to this definition">¶</a></dt>
<dd><dl class="py method">
<dt id="libertem.io.dataset.base.DataTile.flat_data">
<em class="property">property </em><code class="sig-name descname">flat_data</code><a class="headerlink" href="#libertem.io.dataset.base.DataTile.flat_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Flatten the data.</p>
<p>The result is a 2D array where each row contains pixel data
from a single frame. It is just a reshape, so it is a view into
the original data.</p>
</dd></dl>

<dl class="py method">
<dt id="libertem.io.dataset.base.DataTile.reshape">
<code class="sig-name descname">reshape</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">shape</span></em>, <em class="sig-param"><span class="n">order</span><span class="o">=</span><span class="default_value">'C'</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/libertem/io/dataset/base/tiling.html#DataTile.reshape"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#libertem.io.dataset.base.DataTile.reshape" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns an array containing the same data with a new shape.</p>
<p>Refer to <cite>numpy.reshape</cite> for full documentation.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.reshape.html#numpy.reshape" title="(in NumPy v1.19)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy.reshape</span></code></a></dt><dd><p>equivalent function</p>
</dd>
</dl>
</div>
<p class="rubric">Notes</p>
<p>Unlike the free function <cite>numpy.reshape</cite>, this method on <cite>ndarray</cite> allows
the elements of the shape parameter to be passed in as separate arguments.
For example, <code class="docutils literal notranslate"><span class="pre">a.reshape(10,</span> <span class="pre">11)</span></code> is equivalent to
<code class="docutils literal notranslate"><span class="pre">a.reshape((10,</span> <span class="pre">11))</span></code>.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="libertem.io.dataset.base.Decoder">
<em class="property">class </em><code class="sig-prename descclassname">libertem.io.dataset.base.</code><code class="sig-name descname">Decoder</code><a class="reference internal" href="../_modules/libertem/io/dataset/base/decode.html#Decoder"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#libertem.io.dataset.base.Decoder" title="Permalink to this definition">¶</a></dt>
<dd><dl class="py method">
<dt id="libertem.io.dataset.base.Decoder.do_clear">
<code class="sig-name descname">do_clear</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/libertem/io/dataset/base/decode.html#Decoder.do_clear"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#libertem.io.dataset.base.Decoder.do_clear" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="libertem.io.dataset.base.Decoder.get_decode">
<code class="sig-name descname">get_decode</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">native_dtype</span></em>, <em class="sig-param"><span class="n">read_dtype</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/libertem/io/dataset/base/decode.html#Decoder.get_decode"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#libertem.io.dataset.base.Decoder.get_decode" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="libertem.io.dataset.base.Decoder.get_native_dtype">
<code class="sig-name descname">get_native_dtype</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">inp_native_dtype</span></em>, <em class="sig-param"><span class="n">read_dtype</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/libertem/io/dataset/base/decode.html#Decoder.get_native_dtype"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#libertem.io.dataset.base.Decoder.get_native_dtype" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt id="libertem.io.dataset.base.DtypeConversionDecoder">
<em class="property">class </em><code class="sig-prename descclassname">libertem.io.dataset.base.</code><code class="sig-name descname">DtypeConversionDecoder</code><a class="reference internal" href="../_modules/libertem/io/dataset/base/decode.html#DtypeConversionDecoder"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#libertem.io.dataset.base.DtypeConversionDecoder" title="Permalink to this definition">¶</a></dt>
<dd><dl class="py method">
<dt id="libertem.io.dataset.base.DtypeConversionDecoder.get_decode">
<code class="sig-name descname">get_decode</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">native_dtype</span></em>, <em class="sig-param"><span class="n">read_dtype</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/libertem/io/dataset/base/decode.html#DtypeConversionDecoder.get_decode"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#libertem.io.dataset.base.DtypeConversionDecoder.get_decode" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="libertem.io.dataset.base.DtypeConversionDecoder.get_native_dtype">
<code class="sig-name descname">get_native_dtype</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">inp_native_dtype</span></em>, <em class="sig-param"><span class="n">read_dtype</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/libertem/io/dataset/base/decode.html#DtypeConversionDecoder.get_native_dtype"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#libertem.io.dataset.base.DtypeConversionDecoder.get_native_dtype" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt id="libertem.io.dataset.base.File">
<em class="property">class </em><code class="sig-prename descclassname">libertem.io.dataset.base.</code><code class="sig-name descname">File</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">path</span></em>, <em class="sig-param"><span class="n">start_idx</span></em>, <em class="sig-param"><span class="n">end_idx</span></em>, <em class="sig-param"><span class="n">native_dtype</span></em>, <em class="sig-param"><span class="n">sig_shape</span></em>, <em class="sig-param"><span class="n">frame_footer</span><span class="o">=</span><span class="default_value">0</span></em>, <em class="sig-param"><span class="n">frame_header</span><span class="o">=</span><span class="default_value">0</span></em>, <em class="sig-param"><span class="n">file_header</span><span class="o">=</span><span class="default_value">0</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/libertem/io/dataset/base/file.html#File"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#libertem.io.dataset.base.File" title="Permalink to this definition">¶</a></dt>
<dd><dl class="py method">
<dt id="libertem.io.dataset.base.File.__init__">
<code class="sig-name descname">__init__</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">path</span></em>, <em class="sig-param"><span class="n">start_idx</span></em>, <em class="sig-param"><span class="n">end_idx</span></em>, <em class="sig-param"><span class="n">native_dtype</span></em>, <em class="sig-param"><span class="n">sig_shape</span></em>, <em class="sig-param"><span class="n">frame_footer</span><span class="o">=</span><span class="default_value">0</span></em>, <em class="sig-param"><span class="n">frame_header</span><span class="o">=</span><span class="default_value">0</span></em>, <em class="sig-param"><span class="n">file_header</span><span class="o">=</span><span class="default_value">0</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/libertem/io/dataset/base/file.html#File.__init__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#libertem.io.dataset.base.File.__init__" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>file_header</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) – Number of bytes to ignore at the beginning of the file</p></li>
<li><p><strong>frame_header</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) – Number of bytes to ignore before each frame</p></li>
<li><p><strong>frame_footer</strong> (<a class="reference external" href="https://docs.python.org/3.7/library/functions.html#int" title="(in Python v3.7)"><em>int</em></a>) – Number of bytes to ignore after each frame</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="libertem.io.dataset.base.File.close">
<code class="sig-name descname">close</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/libertem/io/dataset/base/file.html#File.close"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#libertem.io.dataset.base.File.close" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="libertem.io.dataset.base.File.end_idx">
<em class="property">property </em><code class="sig-name descname">end_idx</code><a class="headerlink" href="#libertem.io.dataset.base.File.end_idx" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="libertem.io.dataset.base.File.file_header_bytes">
<em class="property">property </em><code class="sig-name descname">file_header_bytes</code><a class="headerlink" href="#libertem.io.dataset.base.File.file_header_bytes" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="libertem.io.dataset.base.File.fileno">
<code class="sig-name descname">fileno</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/libertem/io/dataset/base/file.html#File.fileno"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#libertem.io.dataset.base.File.fileno" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="libertem.io.dataset.base.File.native_dtype">
<em class="property">property </em><code class="sig-name descname">native_dtype</code><a class="headerlink" href="#libertem.io.dataset.base.File.native_dtype" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="libertem.io.dataset.base.File.num_frames">
<em class="property">property </em><code class="sig-name descname">num_frames</code><a class="headerlink" href="#libertem.io.dataset.base.File.num_frames" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="libertem.io.dataset.base.File.open">
<code class="sig-name descname">open</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/libertem/io/dataset/base/file.html#File.open"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#libertem.io.dataset.base.File.open" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="libertem.io.dataset.base.File.sig_shape">
<em class="property">property </em><code class="sig-name descname">sig_shape</code><a class="headerlink" href="#libertem.io.dataset.base.File.sig_shape" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="libertem.io.dataset.base.File.start_idx">
<em class="property">property </em><code class="sig-name descname">start_idx</code><a class="headerlink" href="#libertem.io.dataset.base.File.start_idx" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt id="libertem.io.dataset.base.FileSet">
<em class="property">class </em><code class="sig-prename descclassname">libertem.io.dataset.base.</code><code class="sig-name descname">FileSet</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">files</span><span class="p">:</span> <span class="n">List<span class="p">[</span>libertem.io.dataset.base.file.File<span class="p">]</span></span></em>, <em class="sig-param"><span class="n">frame_header_bytes</span><span class="p">:</span> <span class="n"><a class="reference external" href="https://docs.python.org/3.7/library/functions.html#int" title="(in Python v3.7)">int</a></span> <span class="o">=</span> <span class="default_value">0</span></em>, <em class="sig-param"><span class="n">frame_footer_bytes</span><span class="p">:</span> <span class="n"><a class="reference external" href="https://docs.python.org/3.7/library/functions.html#int" title="(in Python v3.7)">int</a></span> <span class="o">=</span> <span class="default_value">0</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/libertem/io/dataset/base/fileset.html#FileSet"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#libertem.io.dataset.base.FileSet" title="Permalink to this definition">¶</a></dt>
<dd><dl class="py method">
<dt id="libertem.io.dataset.base.FileSet.__init__">
<code class="sig-name descname">__init__</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">files</span><span class="p">:</span> <span class="n">List<span class="p">[</span>libertem.io.dataset.base.file.File<span class="p">]</span></span></em>, <em class="sig-param"><span class="n">frame_header_bytes</span><span class="p">:</span> <span class="n"><a class="reference external" href="https://docs.python.org/3.7/library/functions.html#int" title="(in Python v3.7)">int</a></span> <span class="o">=</span> <span class="default_value">0</span></em>, <em class="sig-param"><span class="n">frame_footer_bytes</span><span class="p">:</span> <span class="n"><a class="reference external" href="https://docs.python.org/3.7/library/functions.html#int" title="(in Python v3.7)">int</a></span> <span class="o">=</span> <span class="default_value">0</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/libertem/io/dataset/base/fileset.html#FileSet.__init__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#libertem.io.dataset.base.FileSet.__init__" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>files</strong> – files that are part of a partition or dataset</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="libertem.io.dataset.base.FileSet.files_from">
<code class="sig-name descname">files_from</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">start</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/libertem/io/dataset/base/fileset.html#FileSet.files_from"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#libertem.io.dataset.base.FileSet.files_from" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="libertem.io.dataset.base.FileSet.get_as_arr">
<code class="sig-name descname">get_as_arr</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/libertem/io/dataset/base/fileset.html#FileSet.get_as_arr"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#libertem.io.dataset.base.FileSet.get_as_arr" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="libertem.io.dataset.base.FileSet.get_for_range">
<code class="sig-name descname">get_for_range</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">start</span></em>, <em class="sig-param"><span class="n">stop</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/libertem/io/dataset/base/fileset.html#FileSet.get_for_range"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#libertem.io.dataset.base.FileSet.get_for_range" title="Permalink to this definition">¶</a></dt>
<dd><p>return new FileSet filtered for files having frames in the [start, stop) range</p>
</dd></dl>

<dl class="py method">
<dt id="libertem.io.dataset.base.FileSet.get_read_ranges">
<code class="sig-name descname">get_read_ranges</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">start_at_frame</span><span class="p">:</span> <span class="n"><a class="reference external" href="https://docs.python.org/3.7/library/functions.html#int" title="(in Python v3.7)">int</a></span></em>, <em class="sig-param"><span class="n">stop_before_frame</span><span class="p">:</span> <span class="n"><a class="reference external" href="https://docs.python.org/3.7/library/functions.html#int" title="(in Python v3.7)">int</a></span></em>, <em class="sig-param"><span class="n">dtype</span></em>, <em class="sig-param"><span class="n">tiling_scheme</span><span class="p">:</span> <span class="n">libertem.io.dataset.base.tiling.TilingScheme</span></em>, <em class="sig-param"><span class="n">roi</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.19)">numpy.ndarray</a><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/libertem/io/dataset/base/fileset.html#FileSet.get_read_ranges"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#libertem.io.dataset.base.FileSet.get_read_ranges" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt id="libertem.io.dataset.base.FileTree">
<em class="property">class </em><code class="sig-prename descclassname">libertem.io.dataset.base.</code><code class="sig-name descname">FileTree</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">low</span><span class="p">:</span> <span class="n"><a class="reference external" href="https://docs.python.org/3.7/library/functions.html#int" title="(in Python v3.7)">int</a></span></em>, <em class="sig-param"><span class="n">high</span><span class="p">:</span> <span class="n"><a class="reference external" href="https://docs.python.org/3.7/library/functions.html#int" title="(in Python v3.7)">int</a></span></em>, <em class="sig-param"><span class="n">value</span><span class="p">:</span> <span class="n">Any</span></em>, <em class="sig-param"><span class="n">idx</span><span class="p">:</span> <span class="n"><a class="reference external" href="https://docs.python.org/3.7/library/functions.html#int" title="(in Python v3.7)">int</a></span></em>, <em class="sig-param"><span class="n">left</span><span class="p">:</span> <span class="n">Union<span class="p">[</span><a class="reference external" href="https://docs.python.org/3.7/library/constants.html#None" title="(in Python v3.7)">None</a><span class="p">, </span><a class="reference internal" href="#libertem.io.dataset.base.FileTree" title="libertem.io.dataset.base.FileTree">FileTree</a><span class="p">]</span></span></em>, <em class="sig-param"><span class="n">right</span><span class="p">:</span> <span class="n">Union<span class="p">[</span><a class="reference external" href="https://docs.python.org/3.7/library/constants.html#None" title="(in Python v3.7)">None</a><span class="p">, </span><a class="reference internal" href="#libertem.io.dataset.base.FileTree" title="libertem.io.dataset.base.FileTree">FileTree</a><span class="p">]</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/libertem/io/dataset/base/utils.html#FileTree"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#libertem.io.dataset.base.FileTree" title="Permalink to this definition">¶</a></dt>
<dd><dl class="py method">
<dt id="libertem.io.dataset.base.FileTree.__init__">
<code class="sig-name descname">__init__</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">low</span><span class="p">:</span> <span class="n"><a class="reference external" href="https://docs.python.org/3.7/library/functions.html#int" title="(in Python v3.7)">int</a></span></em>, <em class="sig-param"><span class="n">high</span><span class="p">:</span> <span class="n"><a class="reference external" href="https://docs.python.org/3.7/library/functions.html#int" title="(in Python v3.7)">int</a></span></em>, <em class="sig-param"><span class="n">value</span><span class="p">:</span> <span class="n">Any</span></em>, <em class="sig-param"><span class="n">idx</span><span class="p">:</span> <span class="n"><a class="reference external" href="https://docs.python.org/3.7/library/functions.html#int" title="(in Python v3.7)">int</a></span></em>, <em class="sig-param"><span class="n">left</span><span class="p">:</span> <span class="n">Union<span class="p">[</span><a class="reference external" href="https://docs.python.org/3.7/library/constants.html#None" title="(in Python v3.7)">None</a><span class="p">, </span><a class="reference internal" href="#libertem.io.dataset.base.FileTree" title="libertem.io.dataset.base.FileTree">FileTree</a><span class="p">]</span></span></em>, <em class="sig-param"><span class="n">right</span><span class="p">:</span> <span class="n">Union<span class="p">[</span><a class="reference external" href="https://docs.python.org/3.7/library/constants.html#None" title="(in Python v3.7)">None</a><span class="p">, </span><a class="reference internal" href="#libertem.io.dataset.base.FileTree" title="libertem.io.dataset.base.FileTree">FileTree</a><span class="p">]</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/libertem/io/dataset/base/utils.html#FileTree.__init__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#libertem.io.dataset.base.FileTree.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Construct a FileTree node</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>low</strong> – First frame contained in this file</p></li>
<li><p><strong>high</strong> – First index of the next file</p></li>
<li><p><strong>value</strong> – The corresponding file object</p></li>
<li><p><strong>idx</strong> – The index of the file object in the fileset</p></li>
<li><p><strong>left</strong> – Nodes with a lower low</p></li>
<li><p><strong>right</strong> – Nodes with a higher low</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="libertem.io.dataset.base.FileTree.make">
<em class="property">classmethod </em><code class="sig-name descname">make</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">files</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/libertem/io/dataset/base/utils.html#FileTree.make"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#libertem.io.dataset.base.FileTree.make" title="Permalink to this definition">¶</a></dt>
<dd><p>build a balanced binary tree by bisecting the files list</p>
</dd></dl>

<dl class="py method">
<dt id="libertem.io.dataset.base.FileTree.search_start">
<code class="sig-name descname">search_start</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">value</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/libertem/io/dataset/base/utils.html#FileTree.search_start"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#libertem.io.dataset.base.FileTree.search_start" title="Permalink to this definition">¶</a></dt>
<dd><p>search a node that has start_idx &lt;= value &amp;&amp; end_idx &gt; value</p>
</dd></dl>

<dl class="py method">
<dt id="libertem.io.dataset.base.FileTree.to_string">
<code class="sig-name descname">to_string</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">depth</span><span class="o">=</span><span class="default_value">0</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/libertem/io/dataset/base/utils.html#FileTree.to_string"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#libertem.io.dataset.base.FileTree.to_string" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt id="libertem.io.dataset.base.LocalFSMMapBackend">
<em class="property">class </em><code class="sig-prename descclassname">libertem.io.dataset.base.</code><code class="sig-name descname">LocalFSMMapBackend</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">decoder</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">corrections</span><span class="p">:</span> <span class="n"><a class="reference internal" href="corrections.html#libertem.corrections.corrset.CorrectionSet" title="libertem.corrections.corrset.CorrectionSet">libertem.corrections.corrset.CorrectionSet</a></span> <span class="o">=</span> <span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/libertem/io/dataset/base/backend.html#LocalFSMMapBackend"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#libertem.io.dataset.base.LocalFSMMapBackend" title="Permalink to this definition">¶</a></dt>
<dd><dl class="py method">
<dt id="libertem.io.dataset.base.LocalFSMMapBackend.__init__">
<code class="sig-name descname">__init__</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">decoder</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">corrections</span><span class="p">:</span> <span class="n"><a class="reference internal" href="corrections.html#libertem.corrections.corrset.CorrectionSet" title="libertem.corrections.corrset.CorrectionSet">libertem.corrections.corrset.CorrectionSet</a></span> <span class="o">=</span> <span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/libertem/io/dataset/base/backend.html#LocalFSMMapBackend.__init__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#libertem.io.dataset.base.LocalFSMMapBackend.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialize self.  See help(type(self)) for accurate signature.</p>
</dd></dl>

<dl class="py method">
<dt id="libertem.io.dataset.base.LocalFSMMapBackend.get_read_and_decode">
<code class="sig-name descname">get_read_and_decode</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">decode</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/libertem/io/dataset/base/backend.html#LocalFSMMapBackend.get_read_and_decode"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#libertem.io.dataset.base.LocalFSMMapBackend.get_read_and_decode" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="libertem.io.dataset.base.LocalFSMMapBackend.get_tiles">
<code class="sig-name descname">get_tiles</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">tiling_scheme</span></em>, <em class="sig-param"><span class="n">fileset</span></em>, <em class="sig-param"><span class="n">read_ranges</span></em>, <em class="sig-param"><span class="n">roi</span></em>, <em class="sig-param"><span class="n">native_dtype</span></em>, <em class="sig-param"><span class="n">read_dtype</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/libertem/io/dataset/base/backend.html#LocalFSMMapBackend.get_tiles"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#libertem.io.dataset.base.LocalFSMMapBackend.get_tiles" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="libertem.io.dataset.base.LocalFSMMapBackend.need_copy">
<code class="sig-name descname">need_copy</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">roi</span></em>, <em class="sig-param"><span class="n">native_dtype</span></em>, <em class="sig-param"><span class="n">read_dtype</span></em>, <em class="sig-param"><span class="n">tiling_scheme</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">fileset</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/libertem/io/dataset/base/backend.html#LocalFSMMapBackend.need_copy"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#libertem.io.dataset.base.LocalFSMMapBackend.need_copy" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="libertem.io.dataset.base.LocalFSMMapBackend.preprocess">
<code class="sig-name descname">preprocess</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">data</span></em>, <em class="sig-param"><span class="n">tile_slice</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/libertem/io/dataset/base/backend.html#LocalFSMMapBackend.preprocess"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#libertem.io.dataset.base.LocalFSMMapBackend.preprocess" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt id="libertem.io.dataset.base.LocalFile">
<em class="property">class </em><code class="sig-prename descclassname">libertem.io.dataset.base.</code><code class="sig-name descname">LocalFile</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">path</span></em>, <em class="sig-param"><span class="n">start_idx</span></em>, <em class="sig-param"><span class="n">end_idx</span></em>, <em class="sig-param"><span class="n">native_dtype</span></em>, <em class="sig-param"><span class="n">sig_shape</span></em>, <em class="sig-param"><span class="n">frame_footer</span><span class="o">=</span><span class="default_value">0</span></em>, <em class="sig-param"><span class="n">frame_header</span><span class="o">=</span><span class="default_value">0</span></em>, <em class="sig-param"><span class="n">file_header</span><span class="o">=</span><span class="default_value">0</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/libertem/io/dataset/base/backend.html#LocalFile"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#libertem.io.dataset.base.LocalFile" title="Permalink to this definition">¶</a></dt>
<dd><dl class="py method">
<dt id="libertem.io.dataset.base.LocalFile.close">
<code class="sig-name descname">close</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/libertem/io/dataset/base/backend.html#LocalFile.close"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#libertem.io.dataset.base.LocalFile.close" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="libertem.io.dataset.base.LocalFile.fileno">
<code class="sig-name descname">fileno</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/libertem/io/dataset/base/backend.html#LocalFile.fileno"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#libertem.io.dataset.base.LocalFile.fileno" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="libertem.io.dataset.base.LocalFile.mmap">
<code class="sig-name descname">mmap</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/libertem/io/dataset/base/backend.html#LocalFile.mmap"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#libertem.io.dataset.base.LocalFile.mmap" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="libertem.io.dataset.base.LocalFile.open">
<code class="sig-name descname">open</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/libertem/io/dataset/base/backend.html#LocalFile.open"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#libertem.io.dataset.base.LocalFile.open" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="libertem.io.dataset.base.LocalFile.raw_mmap">
<code class="sig-name descname">raw_mmap</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/libertem/io/dataset/base/backend.html#LocalFile.raw_mmap"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#libertem.io.dataset.base.LocalFile.raw_mmap" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt id="libertem.io.dataset.base.Negotiator">
<em class="property">class </em><code class="sig-prename descclassname">libertem.io.dataset.base.</code><code class="sig-name descname">Negotiator</code><a class="reference internal" href="../_modules/libertem/io/dataset/base/tiling.html#Negotiator"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#libertem.io.dataset.base.Negotiator" title="Permalink to this definition">¶</a></dt>
<dd><p>Tile shape negotiator. The main functionality is in <cite>get_scheme</cite>,
which, given a <cite>udf</cite>, <cite>partition</cite> and <cite>read_dtype</cite> will generate
a <cite>TilingScheme</cite> that is compatible with both the <cite>UDF</cite> and the
<cite>DataSet</cite>, possibly even optimal.</p>
<dl class="py method">
<dt id="libertem.io.dataset.base.Negotiator.get_scheme">
<code class="sig-name descname">get_scheme</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">udfs</span></em>, <em class="sig-param"><span class="n">partition</span></em>, <em class="sig-param"><span class="n">read_dtype</span><span class="p">:</span> <span class="n"><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.dtype.html#numpy.dtype" title="(in NumPy v1.19)">numpy.dtype</a></span></em>, <em class="sig-param"><span class="n">roi</span><span class="p">:</span> <span class="n"><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.19)">numpy.ndarray</a></span></em>, <em class="sig-param"><span class="n">corrections</span><span class="p">:</span> <span class="n"><a class="reference internal" href="corrections.html#libertem.corrections.corrset.CorrectionSet" title="libertem.corrections.corrset.CorrectionSet">libertem.corrections.corrset.CorrectionSet</a></span> <span class="o">=</span> <span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/libertem/io/dataset/base/tiling.html#Negotiator.get_scheme"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#libertem.io.dataset.base.Negotiator.get_scheme" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate a <a class="reference internal" href="#libertem.io.dataset.base.TilingScheme" title="libertem.io.dataset.base.TilingScheme"><code class="xref py py-class docutils literal notranslate"><span class="pre">TilingScheme</span></code></a> instance that is
compatible with both the given <cite>udf</cite> and the
:class:~`libertem.io.dataset.base.DataSet`.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>udfs</strong> (<em>List</em><em>[</em><a class="reference internal" href="udf.html#libertem.udf.base.UDF" title="libertem.udf.base.UDF"><em>UDF</em></a><em>]</em>) – The concrete UDF to optimize the tiling scheme for.
Depending on the method (tile, frame, partition)
and preferred total input size and depth.</p></li>
<li><p><strong>partition</strong> (<a class="reference internal" href="#libertem.io.dataset.base.Partition" title="libertem.io.dataset.base.Partition"><em>Partition</em></a>) – The <cite>TilingScheme</cite> is created specifically
for the given <cite>Partition</cite>, so it can adjust
even in the face of different partition sizes/shapes.</p></li>
<li><p><strong>read_dtype</strong> – The dtype in which the data will be fed into the UDF</p></li>
<li><p><strong>roi</strong> (<em>np.ndarray</em>) – Region of interest</p></li>
<li><p><strong>corrections</strong> (<a class="reference internal" href="corrections.html#libertem.corrections.corrset.CorrectionSet" title="libertem.corrections.corrset.CorrectionSet"><em>CorrectionSet</em></a>) – Correction set to consider in negotiation</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="libertem.io.dataset.base.Negotiator.validate">
<code class="sig-name descname">validate</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">shape</span></em>, <em class="sig-param"><span class="n">partition</span></em>, <em class="sig-param"><span class="n">size</span></em>, <em class="sig-param"><span class="n">itemsize</span></em>, <em class="sig-param"><span class="n">base_shape</span></em>, <em class="sig-param"><span class="n">corrections</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/libertem/io/dataset/base/tiling.html#Negotiator.validate"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#libertem.io.dataset.base.Negotiator.validate" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt id="libertem.io.dataset.base.Partition">
<em class="property">class </em><code class="sig-prename descclassname">libertem.io.dataset.base.</code><code class="sig-name descname">Partition</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">meta</span><span class="p">:</span> <span class="n">libertem.io.dataset.base.meta.DataSetMeta</span></em>, <em class="sig-param"><span class="n">partition_slice</span><span class="p">:</span> <span class="n"><a class="reference internal" href="internals.html#libertem.common.slice.Slice" title="libertem.common.slice.Slice">libertem.common.slice.Slice</a></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/libertem/io/dataset/base/partition.html#Partition"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#libertem.io.dataset.base.Partition" title="Permalink to this definition">¶</a></dt>
<dd><dl class="py method">
<dt id="libertem.io.dataset.base.Partition.__init__">
<code class="sig-name descname">__init__</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">meta</span><span class="p">:</span> <span class="n">libertem.io.dataset.base.meta.DataSetMeta</span></em>, <em class="sig-param"><span class="n">partition_slice</span><span class="p">:</span> <span class="n"><a class="reference internal" href="internals.html#libertem.common.slice.Slice" title="libertem.common.slice.Slice">libertem.common.slice.Slice</a></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/libertem/io/dataset/base/partition.html#Partition.__init__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#libertem.io.dataset.base.Partition.__init__" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>meta</strong> – The <cite>DataSet</cite>’s <cite>DataSetMeta</cite> instance</p></li>
<li><p><strong>partition_slice</strong> – The partition slice in non-flattened form</p></li>
<li><p><strong>fileset</strong> – The files that are part of this partition (the FileSet may also contain files
from the dataset which are not part of this partition, but that may harm performance)</p></li>
<li><p><strong>start_frame</strong> – The index of the first frame of this partition (global coords)</p></li>
<li><p><strong>num_frames</strong> – How many frames this partition should contain</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="libertem.io.dataset.base.Partition.adjust_tileshape">
<code class="sig-name descname">adjust_tileshape</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">tileshape</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/libertem/io/dataset/base/partition.html#Partition.adjust_tileshape"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#libertem.io.dataset.base.Partition.adjust_tileshape" title="Permalink to this definition">¶</a></dt>
<dd><p>Final veto of the Partition in the tileshape negotiation process,
make sure that corrections are taken into account!</p>
</dd></dl>

<dl class="py method">
<dt id="libertem.io.dataset.base.Partition.dtype">
<em class="property">property </em><code class="sig-name descname">dtype</code><a class="headerlink" href="#libertem.io.dataset.base.Partition.dtype" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="libertem.io.dataset.base.Partition.get_base_shape">
<code class="sig-name descname">get_base_shape</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/libertem/io/dataset/base/partition.html#Partition.get_base_shape"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#libertem.io.dataset.base.Partition.get_base_shape" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="libertem.io.dataset.base.Partition.get_locations">
<code class="sig-name descname">get_locations</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/libertem/io/dataset/base/partition.html#Partition.get_locations"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#libertem.io.dataset.base.Partition.get_locations" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="libertem.io.dataset.base.Partition.get_macrotile">
<code class="sig-name descname">get_macrotile</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">dest_dtype</span><span class="o">=</span><span class="default_value">'float32'</span></em>, <em class="sig-param"><span class="n">roi</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/libertem/io/dataset/base/partition.html#Partition.get_macrotile"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#libertem.io.dataset.base.Partition.get_macrotile" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="libertem.io.dataset.base.Partition.get_tiles">
<code class="sig-name descname">get_tiles</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">tiling_scheme</span></em>, <em class="sig-param"><span class="n">dest_dtype</span><span class="o">=</span><span class="default_value">'float32'</span></em>, <em class="sig-param"><span class="n">roi</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/libertem/io/dataset/base/partition.html#Partition.get_tiles"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#libertem.io.dataset.base.Partition.get_tiles" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="libertem.io.dataset.base.Partition.make_slices">
<em class="property">classmethod </em><code class="sig-name descname">make_slices</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">shape</span></em>, <em class="sig-param"><span class="n">num_partitions</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/libertem/io/dataset/base/partition.html#Partition.make_slices"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#libertem.io.dataset.base.Partition.make_slices" title="Permalink to this definition">¶</a></dt>
<dd><p>partition a 3D dataset (“list of frames”) along the first axis,
yielding the partition slice, and additionally start and stop frame
indices for each partition.</p>
</dd></dl>

<dl class="py method">
<dt id="libertem.io.dataset.base.Partition.need_decode">
<code class="sig-name descname">need_decode</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">read_dtype</span></em>, <em class="sig-param"><span class="n">roi</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/libertem/io/dataset/base/partition.html#Partition.need_decode"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#libertem.io.dataset.base.Partition.need_decode" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="libertem.io.dataset.base.Partition.set_corrections">
<code class="sig-name descname">set_corrections</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">corrections</span><span class="p">:</span> <span class="n"><a class="reference internal" href="corrections.html#libertem.corrections.corrset.CorrectionSet" title="libertem.corrections.corrset.CorrectionSet">libertem.corrections.corrset.CorrectionSet</a></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/libertem/io/dataset/base/partition.html#Partition.set_corrections"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#libertem.io.dataset.base.Partition.set_corrections" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="libertem.io.dataset.base.Partition.shape">
<em class="property">property </em><code class="sig-name descname">shape</code><a class="headerlink" href="#libertem.io.dataset.base.Partition.shape" title="Permalink to this definition">¶</a></dt>
<dd><p>the shape of the partition; dimensionality depends on format</p>
</dd></dl>

<dl class="py method">
<dt id="libertem.io.dataset.base.Partition.validate_tiling_scheme">
<code class="sig-name descname">validate_tiling_scheme</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">tiling_scheme</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/libertem/io/dataset/base/partition.html#Partition.validate_tiling_scheme"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#libertem.io.dataset.base.Partition.validate_tiling_scheme" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt id="libertem.io.dataset.base.PartitionStructure">
<em class="property">class </em><code class="sig-prename descclassname">libertem.io.dataset.base.</code><code class="sig-name descname">PartitionStructure</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">shape</span></em>, <em class="sig-param"><span class="n">slices</span></em>, <em class="sig-param"><span class="n">dtype</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/libertem/io/dataset/base/meta.html#PartitionStructure"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#libertem.io.dataset.base.PartitionStructure" title="Permalink to this definition">¶</a></dt>
<dd><dl class="py attribute">
<dt id="libertem.io.dataset.base.PartitionStructure.SCHEMA">
<code class="sig-name descname">SCHEMA</code><em class="property"> = {'$id': 'http://libertem.org/PartitionStructure.schema.json', '$schema': 'http://json-schema.org/draft-07/schema#', 'properties': {'dtype': {'type': 'string'}, 'shape': {'items': {'minimum': 1, 'type': 'number'}, 'minItems': 2, 'type': 'array'}, 'sig_dims': {'type': 'number'}, 'slices': {'items': {'items': {'maxItems': 2, 'minItems': 2, 'type': 'number'}, 'type': 'array'}, 'minItems': 1, 'type': 'array'}, 'version': {'const': 1}}, 'required': ['version', 'slices', 'shape', 'sig_dims', 'dtype'], 'title': 'PartitionStructure', 'type': 'object'}</em><a class="headerlink" href="#libertem.io.dataset.base.PartitionStructure.SCHEMA" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="libertem.io.dataset.base.PartitionStructure.__init__">
<code class="sig-name descname">__init__</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">shape</span></em>, <em class="sig-param"><span class="n">slices</span></em>, <em class="sig-param"><span class="n">dtype</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/libertem/io/dataset/base/meta.html#PartitionStructure.__init__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#libertem.io.dataset.base.PartitionStructure.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Structure of the dataset.</p>
<p>Assumed to be contiguous on the flattened navigation axis.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>slices</strong> (<em>List</em><em>[</em><em>Tuple</em><em>[</em><em>Int</em><em>]</em><em>]</em>) – List of tuples [start_idx, end_idx) that partition the data set by the flattened
navigation axis</p></li>
<li><p><strong>shape</strong> (<a class="reference internal" href="internals.html#libertem.common.shape.Shape" title="libertem.common.shape.Shape"><em>Shape</em></a>) – shape of the whole dataset</p></li>
<li><p><strong>dtype</strong> (<em>numpy dtype</em>) – The dtype of the data as it is on disk. Can contain endian indicator, for
example &gt;u2 for big-endian 16bit data.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="libertem.io.dataset.base.PartitionStructure.from_ds">
<em class="property">classmethod </em><code class="sig-name descname">from_ds</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">ds</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/libertem/io/dataset/base/meta.html#PartitionStructure.from_ds"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#libertem.io.dataset.base.PartitionStructure.from_ds" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="libertem.io.dataset.base.PartitionStructure.from_json">
<em class="property">classmethod </em><code class="sig-name descname">from_json</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">data</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/libertem/io/dataset/base/meta.html#PartitionStructure.from_json"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#libertem.io.dataset.base.PartitionStructure.from_json" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="libertem.io.dataset.base.PartitionStructure.serialize">
<code class="sig-name descname">serialize</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/libertem/io/dataset/base/meta.html#PartitionStructure.serialize"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#libertem.io.dataset.base.PartitionStructure.serialize" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt id="libertem.io.dataset.base.TilingScheme">
<em class="property">class </em><code class="sig-prename descclassname">libertem.io.dataset.base.</code><code class="sig-name descname">TilingScheme</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">slices</span><span class="p">:</span> <span class="n">List<span class="p">[</span><a class="reference internal" href="internals.html#libertem.common.slice.Slice" title="libertem.common.slice.Slice">libertem.common.slice.Slice</a><span class="p">]</span></span></em>, <em class="sig-param"><span class="n">tileshape</span><span class="p">:</span> <span class="n"><a class="reference internal" href="internals.html#libertem.common.shape.Shape" title="libertem.common.shape.Shape">libertem.common.shape.Shape</a></span></em>, <em class="sig-param"><span class="n">dataset_shape</span><span class="p">:</span> <span class="n"><a class="reference internal" href="internals.html#libertem.common.shape.Shape" title="libertem.common.shape.Shape">libertem.common.shape.Shape</a></span></em>, <em class="sig-param"><span class="n">debug</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/libertem/io/dataset/base/tiling.html#TilingScheme"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#libertem.io.dataset.base.TilingScheme" title="Permalink to this definition">¶</a></dt>
<dd><dl class="py method">
<dt id="libertem.io.dataset.base.TilingScheme.__init__">
<code class="sig-name descname">__init__</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">slices</span><span class="p">:</span> <span class="n">List<span class="p">[</span><a class="reference internal" href="internals.html#libertem.common.slice.Slice" title="libertem.common.slice.Slice">libertem.common.slice.Slice</a><span class="p">]</span></span></em>, <em class="sig-param"><span class="n">tileshape</span><span class="p">:</span> <span class="n"><a class="reference internal" href="internals.html#libertem.common.shape.Shape" title="libertem.common.shape.Shape">libertem.common.shape.Shape</a></span></em>, <em class="sig-param"><span class="n">dataset_shape</span><span class="p">:</span> <span class="n"><a class="reference internal" href="internals.html#libertem.common.shape.Shape" title="libertem.common.shape.Shape">libertem.common.shape.Shape</a></span></em>, <em class="sig-param"><span class="n">debug</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/libertem/io/dataset/base/tiling.html#TilingScheme.__init__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#libertem.io.dataset.base.TilingScheme.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialize self.  See help(type(self)) for accurate signature.</p>
</dd></dl>

<dl class="py method">
<dt id="libertem.io.dataset.base.TilingScheme.dataset_shape">
<em class="property">property </em><code class="sig-name descname">dataset_shape</code><a class="headerlink" href="#libertem.io.dataset.base.TilingScheme.dataset_shape" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="libertem.io.dataset.base.TilingScheme.depth">
<em class="property">property </em><code class="sig-name descname">depth</code><a class="headerlink" href="#libertem.io.dataset.base.TilingScheme.depth" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="libertem.io.dataset.base.TilingScheme.make_for_shape">
<em class="property">classmethod </em><code class="sig-name descname">make_for_shape</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">tileshape</span><span class="p">:</span> <span class="n"><a class="reference internal" href="internals.html#libertem.common.shape.Shape" title="libertem.common.shape.Shape">libertem.common.shape.Shape</a></span></em>, <em class="sig-param"><span class="n">dataset_shape</span><span class="p">:</span> <span class="n"><a class="reference internal" href="internals.html#libertem.common.shape.Shape" title="libertem.common.shape.Shape">libertem.common.shape.Shape</a></span></em>, <em class="sig-param"><span class="n">debug</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/libertem/io/dataset/base/tiling.html#TilingScheme.make_for_shape"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#libertem.io.dataset.base.TilingScheme.make_for_shape" title="Permalink to this definition">¶</a></dt>
<dd><p>Make a TilingScheme from <cite>tileshape</cite> and <cite>dataset_shape</cite>.</p>
<p>Note that both in signal and navigation direction there are border
effects, i.e. if the depth doesn’t evenly divide the number of
frames in the partition (simplified, ROI also applies…), or if
the signal dimensions of <cite>tileshape</cite> doesn’t evenly divide the signal
dimensions of the <cite>dataset_shape</cite>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>tileshape</strong> – Uniform shape of all tiles. Should have flat navigation axis
(meaning tileshape.nav.dims == 1) and be contiguous in signal
dimensions.</p></li>
<li><p><strong>dataset_shape</strong> – Shape of the whole data set. Only the signal part is used.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="libertem.io.dataset.base.TilingScheme.shape">
<em class="property">property </em><code class="sig-name descname">shape</code><a class="headerlink" href="#libertem.io.dataset.base.TilingScheme.shape" title="Permalink to this definition">¶</a></dt>
<dd><p>tileshape. note that some border tiles can be smaller!</p>
</dd></dl>

<dl class="py method">
<dt id="libertem.io.dataset.base.TilingScheme.slices">
<em class="property">property </em><code class="sig-name descname">slices</code><a class="headerlink" href="#libertem.io.dataset.base.TilingScheme.slices" title="Permalink to this definition">¶</a></dt>
<dd><p>signal-only slices for all possible positions</p>
</dd></dl>

<dl class="py method">
<dt id="libertem.io.dataset.base.TilingScheme.slices_array">
<em class="property">property </em><code class="sig-name descname">slices_array</code><a class="headerlink" href="#libertem.io.dataset.base.TilingScheme.slices_array" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the slices from the schema as a numpy ndarray
<cite>a</cite> of shape <cite>(n, 2, sig_dims)</cite> with:
<cite>a[i, 0]</cite> are origins for slice <cite>i</cite>
<cite>a[i, 1]</cite> are shapes for slice <cite>i</cite></p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="libertem.io.dataset.base.WritableDataSet">
<em class="property">class </em><code class="sig-prename descclassname">libertem.io.dataset.base.</code><code class="sig-name descname">WritableDataSet</code><a class="reference internal" href="../_modules/libertem/io/dataset/base/dataset.html#WritableDataSet"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#libertem.io.dataset.base.WritableDataSet" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py class">
<dt id="libertem.io.dataset.base.WritablePartition">
<em class="property">class </em><code class="sig-prename descclassname">libertem.io.dataset.base.</code><code class="sig-name descname">WritablePartition</code><a class="reference internal" href="../_modules/libertem/io/dataset/base/partition.html#WritablePartition"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#libertem.io.dataset.base.WritablePartition" title="Permalink to this definition">¶</a></dt>
<dd><dl class="py method">
<dt id="libertem.io.dataset.base.WritablePartition.delete">
<code class="sig-name descname">delete</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/libertem/io/dataset/base/partition.html#WritablePartition.delete"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#libertem.io.dataset.base.WritablePartition.delete" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="libertem.io.dataset.base.WritablePartition.get_write_handle">
<code class="sig-name descname">get_write_handle</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/libertem/io/dataset/base/partition.html#WritablePartition.get_write_handle"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#libertem.io.dataset.base.WritablePartition.get_write_handle" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py function">
<dt id="libertem.io.dataset.base.decode_swap_2">
<code class="sig-prename descclassname">libertem.io.dataset.base.</code><code class="sig-name descname">decode_swap_2</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">inp</span></em>, <em class="sig-param"><span class="n">out</span></em>, <em class="sig-param"><span class="n">idx</span></em>, <em class="sig-param"><span class="n">native_dtype</span></em>, <em class="sig-param"><span class="n">rr</span></em>, <em class="sig-param"><span class="n">origin</span></em>, <em class="sig-param"><span class="n">shape</span></em>, <em class="sig-param"><span class="n">ds_shape</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/libertem/io/dataset/base/decode.html#decode_swap_2"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#libertem.io.dataset.base.decode_swap_2" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="libertem.io.dataset.base.decode_swap_4">
<code class="sig-prename descclassname">libertem.io.dataset.base.</code><code class="sig-name descname">decode_swap_4</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">inp</span></em>, <em class="sig-param"><span class="n">out</span></em>, <em class="sig-param"><span class="n">idx</span></em>, <em class="sig-param"><span class="n">native_dtype</span></em>, <em class="sig-param"><span class="n">rr</span></em>, <em class="sig-param"><span class="n">origin</span></em>, <em class="sig-param"><span class="n">shape</span></em>, <em class="sig-param"><span class="n">ds_shape</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/libertem/io/dataset/base/decode.html#decode_swap_4"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#libertem.io.dataset.base.decode_swap_4" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="libertem.io.dataset.base.default_get_read_ranges">
<code class="sig-prename descclassname">libertem.io.dataset.base.</code><code class="sig-name descname">default_get_read_ranges</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">start_at_frame</span></em>, <em class="sig-param"><span class="n">stop_before_frame</span></em>, <em class="sig-param"><span class="n">roi</span></em>, <em class="sig-param"><span class="n">depth</span></em>, <em class="sig-param"><span class="n">slices_arr</span></em>, <em class="sig-param"><span class="n">fileset_arr</span></em>, <em class="sig-param"><span class="n">sig_shape</span></em>, <em class="sig-param"><span class="n">bpp</span></em>, <em class="sig-param"><span class="n">extra</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">frame_header_bytes</span><span class="o">=</span><span class="default_value">0</span></em>, <em class="sig-param"><span class="n">frame_footer_bytes</span><span class="o">=</span><span class="default_value">0</span></em><span class="sig-paren">)</span><a class="headerlink" href="#libertem.io.dataset.base.default_get_read_ranges" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="libertem.io.dataset.base.make_get_read_ranges">
<code class="sig-prename descclassname">libertem.io.dataset.base.</code><code class="sig-name descname">make_get_read_ranges</code><span class="sig-paren">(</span><em class="sig-param">px_to_bytes=CPUDispatcher(&lt;function _default_px_to_bytes&gt;)</em>, <em class="sig-param">read_ranges_tile_block=CPUDispatcher(&lt;function _default_read_ranges_tile_block&gt;)</em><span class="sig-paren">)</span> &#x2192; Tuple<span class="p">[</span><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.19)">numpy.ndarray</a><span class="p">, </span><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.19)">numpy.ndarray</a><span class="p">]</span><a class="reference internal" href="../_modules/libertem/io/dataset/base/tiling.html#make_get_read_ranges"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#libertem.io.dataset.base.make_get_read_ranges" title="Permalink to this definition">¶</a></dt>
<dd><p>Translate the <cite>TilingScheme</cite> combined with the <cite>roi</cite> into (pixel)-read-ranges,
together with their tile slices.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>start_at_frame</strong> – Dataset-global first frame index to read</p></li>
<li><p><strong>stop_before_frame</strong> – Stop before this frame index</p></li>
<li><p><strong>tiling_scheme</strong> – Description on how the data should be tiled</p></li>
<li><p><strong>fileset_arr</strong> – Array of shape (number_of_files, 3) where the last dimension contains
the following values: <cite>(start_idx, end_idx, file_idx)</cite>, where
<cite>[start_idx, end_idx)</cite> defines which frame indices are contained
in the file.</p></li>
<li><p><strong>roi</strong> – Region of interest (for the full dataset)</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>read_ranges is an ndarray with shape (number_of_tiles, depth, 3)
where the last dimension contains: file index, start_byte, stop_byte</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>(tile_slice, read_ranges)</p>
</dd>
</dl>
</dd></dl>

</div>
</div>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<p class="logo">
  <a href="../index.html">
    <img class="logo" src="../_static/logo.png" alt="Logo"/>
    
  </a>
</p>








<h3>Navigation</h3>
<p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../install.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../usage.html">GUI usage</a></li>
<li class="toctree-l1"><a class="reference internal" href="../concepts.html">Concepts</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api.html">Python API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../formats.html">Loading data</a></li>
<li class="toctree-l1"><a class="reference internal" href="../udf.html">User-defined functions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../packages.html">Package overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../sample_datasets.html">Sample Datasets</a></li>
<li class="toctree-l1"><a class="reference internal" href="../applications.html">Applications</a></li>
<li class="toctree-l1"><a class="reference internal" href="../architecture.html">Architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="../performance.html">Performance</a></li>
<li class="toctree-l1"><a class="reference internal" href="../debugging.html">Debugging</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Reference</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="api.html">LiberTEM Context API</a></li>
<li class="toctree-l2"><a class="reference internal" href="udf.html">UDF API reference</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Data Set API</a></li>
<li class="toctree-l2"><a class="reference internal" href="application.html">Application-specific API</a></li>
<li class="toctree-l2"><a class="reference internal" href="masks.html">Mask creation and manipulation</a></li>
<li class="toctree-l2"><a class="reference internal" href="internals.html">Internal API</a></li>
<li class="toctree-l2"><a class="reference internal" href="dask.html">Dask API</a></li>
<li class="toctree-l2"><a class="reference internal" href="cluster-ds.html">Cluster data set</a></li>
<li class="toctree-l2"><a class="reference internal" href="caching.html">Distributed caching layer</a></li>
<li class="toctree-l2"><a class="reference internal" href="corrections.html">Corrections</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#indices-and-tables">Indices and tables</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../changelog.html">Changelog</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tips.html">Tips and tricks</a></li>
<li class="toctree-l1"><a class="reference internal" href="../why_python.html">Why Python?</a></li>
<li class="toctree-l1"><a class="reference internal" href="../gsoc.html">GSoC 2020 ideas</a></li>
<li class="toctree-l1"><a class="reference internal" href="../contributing.html">Contributing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../authorship.html">Authorship policy</a></li>
<li class="toctree-l1"><a class="reference internal" href="../citing.html">Citing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../acknowledgments.html">Acknowledgments</a></li>
<li class="toctree-l1"><a class="reference internal" href="../dev/how-io-works.html">How does I/O work in LiberTEM?</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../index.html">Documentation overview</a><ul>
  <li><a href="index.html">Reference</a><ul>
      <li>Previous: <a href="udf.html" title="previous chapter">UDF API reference</a></li>
      <li>Next: <a href="application.html" title="next chapter">Application-specific API</a></li>
  </ul></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2018, LiberTEM Authors.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 3.3.1</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="../_sources/reference/dataset.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>